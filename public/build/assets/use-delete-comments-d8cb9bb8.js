import{as as U,j as i,ak as dt,r as h,M as ft,P as mt,Q as Me,T as E,x as ie,i as be,w as pe,q as Re,o as $e,k as J,ad as xe,m as Le,af as ye,al as _e,ag as je,O as Ae,am as Ke,B as W,L as q,h as w,aj as Be,ab as Ie,au as Se,ac as Ue,ba as le,c1 as ht,aa as He,av as ze,aw as vt,aA as gt,b4 as bt,aH as qe,aC as pt,ay as me,b as xt,bR as yt,aY as Ve,bT as se,bc as Ge,cR as jt,cS as Pe,cb as It,aF as St,cJ as Oe,bk as wt,a_ as Qe,a3 as ke,a6 as Ct,$ as Tt,cT as Et,a0 as Mt,C as he,D as zt}from"./main-41809f72.js";import{b as Ne,a as Pt,K as We}from"./theme-value-to-hex-3be344f1.js";import{Y as Ot}from"./use-artist-permissions-2bfa1a86.js";const Cn="track",Tn="artist",kt=t=>(s,e,n)=>{const r=n.subscribe;return n.subscribe=(o,l,c)=>{let f=o;if(l){const g=(c==null?void 0:c.equalityFn)||Object.is;let u=o(n.getState());f=b=>{const v=o(b);if(!g(u,v)){const m=u;l(u=v,m)}},c!=null&&c.fireImmediately&&l(u,u)}return r(f)},t(s,e,n)},En=kt,Mn=U(i.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"PauseOutlined"),Nt=U(i.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"ImageOutlined");function Je(){const{trans:t}=dt();return i.jsxs(h.Fragment,{children:[i.jsxs("div",{className:"gap-28 md:flex",children:[i.jsx(ft,{children:i.jsx(mt,{name:"image",diskPrefix:"playlist_media",variant:"square",previewSize:"w-160 h-160",className:"mb-24 md:mb-0",placeholderIcon:i.jsx(Nt,{}),showRemoveButton:!0,stretchPreview:!0})}),i.jsxs("div",{className:"mb-34 flex-auto",children:[i.jsx(Me,{autoFocus:!0,name:"name",label:i.jsx(E,{message:"Name"}),className:"mb-24"}),i.jsx(Ne,{name:"collaborative",description:i.jsx(E,{message:"Invite other users to add tracks."}),className:"mb-24",children:i.jsx(E,{message:"Collaborative"})}),i.jsx(Ne,{name:"public",description:i.jsx(E,{message:"Everyone can see public playlists."}),children:i.jsx(E,{message:"Public"})})]})]}),i.jsx(Me,{name:"description",label:i.jsx(E,{message:"Description"}),inputElementType:"textarea",rows:4,placeholder:t(ie("Give your playlist a catchy description."))})]})}function Ft(t){return be({mutationFn:s=>Dt(s),onSuccess:()=>{pe(ie("Playlist created")),Re.invalidateQueries({queryKey:["playlists"]})},onError:s=>$e(s,t)})}function Dt(t){return J.post("playlists",t).then(s=>s.data)}function zn(){const{close:t,formId:s}=xe(),e=Le(),n=Ft(e);return i.jsxs(ye,{size:"xl",children:[i.jsx(_e,{children:i.jsx(E,{message:"New playlist"})}),i.jsx(je,{children:i.jsx(Ae,{id:s,form:e,onSubmit:r=>{n.mutate(r,{onSuccess:a=>{t(a.playlist)}})},children:i.jsx(Je,{})})}),i.jsxs(Ke,{children:[i.jsx(W,{onClick:()=>t(),children:i.jsx(E,{message:"Cancel"})}),i.jsx(W,{form:s,type:"submit",variant:"flat",color:"primary",disabled:n.isPending,children:i.jsx(E,{message:"Create"})})]})]})}function Rt(t){const s=h.useRef();return h.useEffect(()=>{s.current=t},[t]),s.current}function Pn({playlist:t,className:s}){const e=h.useMemo(()=>$t(t),[t.id]);return i.jsx(q,{className:w("capitalize hover:underline",s),to:e,children:t.name})}function $t(t,{absolute:s}={}){const e=Be(t.name);let n=`/playlist/${t.id}/${e}`;return s&&(n=`${Ie().settings.base_url}${n}`),n}function On({genre:t,className:s,...e}){const n=h.useMemo(()=>Lt(t),[t]);return i.jsx(q,{...e,className:w("block outline-none first-letter:capitalize hover:underline focus-visible:underline",s),to:n,children:t.display_name||t.name})}function Lt(t,{absolute:s}={}){let n=`/genre/${Be(t.name)}`;return s&&(n=`${Ie().settings.base_url}${n}`),n}function kn(t,s){const e=document.createElement("a");e.href=t,s&&(e.download=s),document.body.appendChild(e),e.click(),document.body.removeChild(e)}const Nn="playlist";function _t({form:t,playlistId:s}={}){const e=Se();return e.playlistId&&!s&&(s=e.playlistId),be({mutationFn:n=>At(s,n),onSuccess:()=>{pe(ie("Playlist updated")),Re.invalidateQueries({queryKey:["playlists"]})},onError:n=>t?$e(n,t):Ue(n)})}function At(t,s){return J.put(`playlists/${t}`,s).then(e=>e.data)}function Fn({playlist:t}){const{close:s,formId:e}=xe(),n=Le({defaultValues:{name:t.name,public:t.public,collaborative:t.collaborative,image:t.image,description:t.description}}),r=_t({form:n,playlistId:t.id});return i.jsxs(ye,{size:"xl",children:[i.jsx(_e,{children:i.jsx(E,{message:"Update playlist"})}),i.jsx(je,{children:i.jsx(Ae,{id:e,form:n,onSubmit:a=>{r.mutate(a,{onSuccess:o=>{s(o.playlist)}})},children:i.jsx(Je,{})})}),i.jsxs(Ke,{children:[i.jsx(W,{onClick:()=>s(),children:i.jsx(E,{message:"Cancel"})}),i.jsx(W,{form:e,type:"submit",variant:"flat",color:"primary",disabled:r.isPending,children:i.jsx(E,{message:"Update"})})]})]})}const Dn="user",te="filters";function Kt(t){if(!t)return[];let s=[];try{s=JSON.parse(atob(decodeURIComponent(t))),s.map(e=>(e.valueKey!=null&&(e.value=e.valueKey),e))}catch{}return s}function Bt(t,s){return!t||(t=s?t.filter(e=>e.value!=="").map(e=>Ut(e,s)):t,t=t.filter(e=>!e.isInactive),!t.length)?"":encodeURIComponent(btoa(JSON.stringify(t)))}function Ut(t,s){var n;const e=s.find(r=>r.key===t.key);if((e==null?void 0:e.control.type)==="select"){const r=(e.control.options||[]).find(a=>a.key===t.value);if(r)return{...t,value:r.value,valueKey:r.key}}return(n=e==null?void 0:e.extraFilters)!=null&&n.length&&(t.extraFilters=e.extraFilters),t}function Ht(t,s){const[e,n]=le(),r=ht(),a=e.get(te),o=h.useMemo(()=>{if(!t)return[];const u=Kt(a);return(s||[]).forEach(b=>{if(!u.find(v=>v.key===b)){const v=t.find(m=>m.key===b);u.push({key:b,value:v.control.defaultValue,operator:v.defaultOperator,isInactive:!0})}}),u.sort((b,v)=>t.findIndex(m=>m.key===b.key)-t.findIndex(m=>m.key===v.key)),u},[a,s,t]),l=h.useCallback(u=>{const b=[...o];return u.forEach(v=>{const m=typeof v=="object"?v.key:v,p=b.findIndex(I=>I.key===m);p>-1&&b.splice(p,1)}),b},[o]),c=h.useCallback(u=>{const b=Bt(u,t);b?n(v=>(v.delete("page"),v.set(te,b),v)):e.delete(te),r({search:`?${e}`},{replace:!0})},[t,r,e,n]),f=h.useCallback(u=>{const v=[...l(u),...u];c(v)},[l,c]),g=h.useCallback(u=>c(l([u])),[l,c]);return{add:f,remove:g,replaceAll:c,decodedFilters:o,encodedFilters:a}}function Ye(t,s){const e=Se(),[n]=le(),{encodedFilters:r}=Ht(),a={...s,restriction:e.restriction||"",order:n.get("order"),[te]:r};return!a.order&&t&&(a.order=t.config.contentOrder||"popularity:desc"),a}function Rn(t,s,e){const n=Se(),r=t||n.slugOrId,a=Ye(void 0,e);return He({queryKey:ge(r,{restriction:a.restriction}),queryFn:()=>qt(r,{...a,loader:s}),initialData:()=>{var f,g;const o=(f=Ie().loaders)==null?void 0:f[s],l=(o==null?void 0:o.channel.id)==r||(o==null?void 0:o.channel.slug)==r,c=!a.restriction||((g=o==null?void 0:o.channel.restriction)==null?void 0:g.name)===a.restriction;if(l&&c)return o}})}function ge(t,s){const e=["channel",`${t}`];return s&&e.push(s),e}function Xe(t){return`channel/${t}`}function qt(t,s={}){return J.get(Xe(t),{params:s}).then(e=>e.data)}function $n(t,s,e){const[n]=le(),r=Ye(t,s);e!=null&&e.isNested?r.perPage=15:r.page=n.get("page")||"1";const a=ge(t.id,r),o=h.useRef(ze(a)).current;return{...He({queryKey:ge(t.id,r),queryFn:()=>Vt(t,r),placeholderData:vt,initialData:()=>{if(ze(a)===o)return t.content},staleTime:e!=null&&e.isNested?1/0:void 0}),queryKey:a}}function Vt(t,s){return J.get(Xe(t.id),{params:{...s,paginate:t.config.paginationType==="lengthAware"?"lengthAware":"simple",returnContentOnly:"true"}}).then(e=>e.data.pagination)}const Ln={pagination:{data:[],from:0,to:0,per_page:15,current_page:1}};function Gt(t){return"prev_cursor"in t?t.prev_cursor!=null:"prev_page"in t?t.prev_page!=null:t.current_page>1}function Ze(t){return"next_cursor"in t?t.next_cursor!=null:"last_page"in t?t.current_page<t.last_page:"next_page"in t?t.next_page!=null:t.data.length>0&&t.data.length>=t.per_page}function ne(t){(t!=null&&t.current?gt(t.current):document.documentElement).scrollTo({top:0,left:0})}const Qt=U(i.jsx("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41zM6 6h2v12H6V6z"}),"FirstPageOutlined");function _n({pagination:t,className:s,type:e,scrollToTop:n}){var a;return!((a=t==null?void 0:t.data)!=null&&a.length)||!Ze(t)&&!Gt(t)?null:(!e||e==="lengthAware")&&"total"in t&&t.total!=null?i.jsx(Wt,{data:t,className:s,scrollToTop:n}):i.jsx(Jt,{data:t,className:s,scrollToTop:n})}function Wt({data:t,className:s,scrollToTop:e}){const n=h.useRef(null),r=t.current_page,a=t.total,o=t.per_page,l=Yt(r,a,o);return i.jsx("nav",{ref:n,className:w("flex flex-wrap items-center justify-center",s),children:i.jsx("ul",{className:"flex items-center gap-4",children:l.map((c,f)=>{const g=c===r;return i.jsx("li",{children:i.jsx(re,{page:g?void 0:c,elementType:g?void 0:q,replace:!0,variant:g?"outline":void 0,disabled:g||c==="...",onClick:e?()=>ne(n):void 0,children:c==="..."?c:i.jsx(Pt,{value:+c})})},c==="..."?`...-${f}`:c)})})})}function re({page:t,...s}){const[e]=le(),n=h.useMemo(()=>t?(e.set("page",`${t}`),e.toString()):null,[t,e]);return i.jsx(W,{to:n?{search:n}:void 0,...s})}function Jt({data:t,className:s,scrollToTop:e}){const n=h.useRef(null),r=t.current_page,a=!Ze(t);return i.jsxs("div",{ref:n,className:w("flex items-center gap-12",s),children:[r>1&&i.jsx(re,{variant:"outline",elementType:q,className:"min-w-110",page:1,replace:!0,startIcon:i.jsx(Qt,{}),onClick:e?()=>ne(n):void 0,size:"xs",children:i.jsx(E,{message:"First"})}),i.jsx(re,{variant:"outline",elementType:r==1?void 0:q,disabled:r==1,className:"mr-auto min-w-110",page:r==1?void 0:r-1,replace:r==1?void 0:!0,startIcon:i.jsx(qe,{}),onClick:e?()=>ne(n):void 0,size:"xs",children:i.jsx(E,{message:"Previous"})}),i.jsx(re,{variant:"outline",elementType:a?void 0:q,disabled:a,className:"min-w-110",page:a?void 0:r+1,replace:a?void 0:!0,endIcon:i.jsx(We,{}),onClick:e?()=>ne(n):void 0,size:"xs",children:i.jsx(E,{message:"Next"})})]})}const Yt=bt((t,s,e)=>{const n=Math.ceil(s/e),r=3,a=[];for(let o=Math.max(2,t-r);o<=Math.min(n-1,t+r);o++)a.push(o);return t-r>2&&a.unshift("..."),t+r<n-1&&a.push("..."),a.unshift(1),a.push(n),a});function An({image:t,label:s,description:e,className:n,labelClassName:r,avatarSize:a="md",alwaysShowAvatar:o,avatarLabel:l,avatarCircle:c}){return i.jsxs("div",{className:w("flex items-center gap-12",n),children:[(t||o)&&i.jsx(pt,{size:a,className:"flex-shrink-0",src:t,label:l??s,fallback:"initials",circle:c}),i.jsxs("div",{className:"min-w-0 overflow-hidden",children:[i.jsx("div",{className:w(r,"overflow-hidden overflow-ellipsis"),children:s}),e&&i.jsx("div",{className:"overflow-hidden overflow-ellipsis text-xs text-muted",children:e})]})]})}function Kn({className:t,labelClassName:s,showDescription:e,avatarCircle:n}){return i.jsxs("div",{className:w("flex w-full max-w-4/5 items-center gap-12",t),children:[i.jsx(me,{size:"w-40 h-40 md:w-32 md:h-32",variant:"rect",radius:n?"rounded-full":void 0}),i.jsxs("div",{className:"flex-auto",children:[i.jsx("div",{className:w(s,e&&"leading-3"),children:i.jsx(me,{})}),e&&i.jsx("div",{className:"mt-4 leading-3 text-muted",children:i.jsx(me,{})})]})]})}const Bn=U(i.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ae(){return ae=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},ae.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},oe.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H(t,s,e){var n,r=(n=e.initialDeps)!=null?n:[],a;return function(){var o;e.key&&e.debug!=null&&e.debug()&&(o=Date.now());var l=t(),c=l.length!==r.length||l.some(function(m,p){return r[p]!==m});if(!c)return a;r=l;var f;if(e.key&&e.debug!=null&&e.debug()&&(f=Date.now()),a=s.apply(void 0,l),e.key&&e.debug!=null&&e.debug()){var g=Math.round((Date.now()-o)*100)/100,u=Math.round((Date.now()-f)*100)/100,b=u/16,v=function(p,I){for(p=String(p);p.length<I;)p=" "+p;return p};console.info("%c⏱ "+v(u,5)+" /"+v(g,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*b,120))+"deg 100% 31%);",e==null?void 0:e.key)}return e==null||e.onChange==null||e.onChange(a),a}}function ve(t,s){if(t===void 0)throw new Error("Unexpected undefined"+(s?": "+s:""));return t}var Xt=function(s,e){return Math.abs(s-e)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zt=function(s){return s},en=function(s){for(var e=Math.max(s.startIndex-s.overscan,0),n=Math.min(s.endIndex+s.overscan,s.count-1),r=[],a=e;a<=n;a++)r.push(a);return r},tn=function(s,e){var n=s.scrollElement;if(n){var r=function(l){var c=l.width,f=l.height;e({width:Math.round(c),height:Math.round(f)})};r(n.getBoundingClientRect());var a=new ResizeObserver(function(o){var l=o[0];if(l!=null&&l.borderBoxSize){var c=l.borderBoxSize[0];if(c){r({width:c.inlineSize,height:c.blockSize});return}}r(n.getBoundingClientRect())});return a.observe(n,{box:"border-box"}),function(){a.unobserve(n)}}},nn=function(s,e){var n=s.scrollElement;if(n){var r=function(){e(n[s.options.horizontal?"scrollLeft":"scrollTop"])};return r(),n.addEventListener("scroll",r,{passive:!0}),function(){n.removeEventListener("scroll",r)}}},rn=function(s,e,n){if(e!=null&&e.borderBoxSize){var r=e.borderBoxSize[0];if(r){var a=Math.round(r[n.options.horizontal?"inlineSize":"blockSize"]);return a}}return Math.round(s.getBoundingClientRect()[n.options.horizontal?"width":"height"])},sn=function(s,e,n){var r,a,o=e.adjustments,l=o===void 0?0:o,c=e.behavior,f=s+l;(r=n.scrollElement)==null||r.scrollTo==null||r.scrollTo((a={},a[n.options.horizontal?"left":"top"]=f,a.behavior=c,a))},an=function(s){var e=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var n=null,r=function(){return n||(typeof ResizeObserver<"u"?n=new ResizeObserver(function(o){o.forEach(function(l){e._measureElement(l.target,l)})}):null)};return{disconnect:function(){var o;return(o=r())==null?void 0:o.disconnect()},observe:function(o){var l;return(l=r())==null?void 0:l.observe(o,{box:"border-box"})},unobserve:function(o){var l;return(l=r())==null?void 0:l.unobserve(o)}}}(),this.range=null,this.setOptions=function(n){Object.entries(n).forEach(function(r){var a=r[0],o=r[1];typeof o>"u"&&delete n[a]}),e.options=oe({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Zt,rangeExtractor:en,onChange:function(){},measureElement:rn,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},n)},this.notify=function(n){e.options.onChange==null||e.options.onChange(e,n)},this.maybeNotify=H(function(){return e.calculateRange(),[e.isScrolling,e.range?e.range.startIndex:null,e.range?e.range.endIndex:null]},function(n){e.notify(n)},{key:!1,debug:function(){return e.options.debug},initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=function(){e.unsubs.filter(Boolean).forEach(function(n){return n()}),e.unsubs=[],e.scrollElement=null},this._didMount=function(){return e.measureElementCache.forEach(e.observer.observe),function(){e.observer.disconnect(),e.cleanup()}},this._willUpdate=function(){var n=e.options.getScrollElement();e.scrollElement!==n&&(e.cleanup(),e.scrollElement=n,e._scrollToOffset(e.scrollOffset,{adjustments:void 0,behavior:void 0}),e.unsubs.push(e.options.observeElementRect(e,function(r){e.scrollRect=r,e.maybeNotify()})),e.unsubs.push(e.options.observeElementOffset(e,function(r){e.scrollAdjustments=0,e.scrollOffset!==r&&(e.isScrollingTimeoutId!==null&&(clearTimeout(e.isScrollingTimeoutId),e.isScrollingTimeoutId=null),e.isScrolling=!0,e.scrollDirection=e.scrollOffset<r?"forward":"backward",e.scrollOffset=r,e.maybeNotify(),e.isScrollingTimeoutId=setTimeout(function(){e.isScrollingTimeoutId=null,e.isScrolling=!1,e.scrollDirection=null,e.maybeNotify()},e.options.scrollingDelay))})))},this.getSize=function(){return e.scrollRect[e.options.horizontal?"width":"height"]},this.memoOptions=H(function(){return[e.options.count,e.options.paddingStart,e.options.scrollMargin,e.options.getItemKey]},function(n,r,a,o){return e.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:a,getItemKey:o}},{key:!1}),this.getFurthestMeasurement=function(n,r){for(var a=new Map,o=new Map,l=r-1;l>=0;l--){var c=n[l];if(!a.has(c.lane)){var f=o.get(c.lane);if(f==null||c.end>f.end?o.set(c.lane,c):c.end<f.end&&a.set(c.lane,!0),a.size===e.options.lanes)break}}return o.size===e.options.lanes?Array.from(o.values()).sort(function(g,u){return g.end-u.end})[0]:void 0},this.getMeasurements=H(function(){return[e.memoOptions(),e.itemSizeCache]},function(n,r){var a=n.count,o=n.paddingStart,l=n.scrollMargin,c=n.getItemKey,f=e.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,e.pendingMeasuredCacheIndexes):0;e.pendingMeasuredCacheIndexes=[];for(var g=e.measurementsCache.slice(0,f),u=f;u<a;u++){var b=c(u),v=e.options.lanes===1?g[u-1]:e.getFurthestMeasurement(g,u),m=v?v.end:o+l,p=r.get(b),I=typeof p=="number"?p:e.options.estimateSize(u),M=m+I,j=v?v.lane:u%e.options.lanes;g[u]={index:u,start:m,size:I,end:M,key:b,lane:j}}return e.measurementsCache=g,g},{key:!1,debug:function(){return e.options.debug}}),this.calculateRange=H(function(){return[e.getMeasurements(),e.getSize(),e.scrollOffset]},function(n,r,a){return e.range=n.length>0&&r>0?on({measurements:n,outerSize:r,scrollOffset:a}):null},{key:!1,debug:function(){return e.options.debug}}),this.getIndexes=H(function(){return[e.options.rangeExtractor,e.calculateRange(),e.options.overscan,e.options.count]},function(n,r,a,o){return r===null?[]:n(oe({},r,{overscan:a,count:o}))},{key:!1,debug:function(){return e.options.debug}}),this.indexFromElement=function(n){var r=e.options.indexAttribute,a=n.getAttribute(r);return a?parseInt(a,10):(console.warn("Missing attribute name '"+r+"={index}' on measured element."),-1)},this._measureElement=function(n,r){var a=e.measurementsCache[e.indexFromElement(n)];if(!a||!n.isConnected){e.measureElementCache.forEach(function(c,f){c===n&&(e.observer.unobserve(n),e.measureElementCache.delete(f))});return}var o=e.measureElementCache.get(a.key);o!==n&&(o&&e.observer.unobserve(o),e.observer.observe(n),e.measureElementCache.set(a.key,n));var l=e.options.measureElement(n,r,e);e.resizeItem(a,l)},this.resizeItem=function(n,r){var a,o=(a=e.itemSizeCache.get(n.key))!=null?a:n.size,l=r-o;l!==0&&(n.start<e.scrollOffset&&e._scrollToOffset(e.scrollOffset,{adjustments:e.scrollAdjustments+=l,behavior:void 0}),e.pendingMeasuredCacheIndexes.push(n.index),e.itemSizeCache=new Map(e.itemSizeCache.set(n.key,r)),e.notify(!1))},this.measureElement=function(n){n&&e._measureElement(n,void 0)},this.getVirtualItems=H(function(){return[e.getIndexes(),e.getMeasurements()]},function(n,r){for(var a=[],o=0,l=n.length;o<l;o++){var c=n[o],f=r[c];a.push(f)}return a},{key:!1,debug:function(){return e.options.debug}}),this.getVirtualItemForOffset=function(n){var r=e.getMeasurements();return ve(r[et(0,r.length-1,function(a){return ve(r[a]).start},n)])},this.getOffsetForAlignment=function(n,r){var a=e.getSize();r==="auto"&&(n<=e.scrollOffset?r="start":n>=e.scrollOffset+a?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-a:r==="center"&&(n=n-a/2);var o=e.options.horizontal?"scrollWidth":"scrollHeight",l=e.scrollElement?"document"in e.scrollElement?e.scrollElement.document.documentElement[o]:e.scrollElement[o]:0,c=l-e.getSize();return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=function(n,r){r===void 0&&(r="auto"),n=Math.max(0,Math.min(n,e.options.count-1));var a=ve(e.getMeasurements()[n]);if(r==="auto")if(a.end>=e.scrollOffset+e.getSize()-e.options.scrollPaddingEnd)r="end";else if(a.start<=e.scrollOffset+e.options.scrollPaddingStart)r="start";else return[e.scrollOffset,r];var o=r==="end"?a.end+e.options.scrollPaddingEnd:a.start-e.options.scrollPaddingStart;return[e.getOffsetForAlignment(o,r),r]},this.isDynamicMode=function(){return e.measureElementCache.size>0},this.cancelScrollToIndex=function(){e.scrollToIndexTimeoutId!==null&&(clearTimeout(e.scrollToIndexTimeoutId),e.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(n,r){var a=r===void 0?{}:r,o=a.align,l=o===void 0?"start":o,c=a.behavior;e.cancelScrollToIndex(),c==="smooth"&&e.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e._scrollToOffset(e.getOffsetForAlignment(n,l),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(n,r){var a=r===void 0?{}:r,o=a.align,l=o===void 0?"auto":o,c=a.behavior;n=Math.max(0,Math.min(n,e.options.count-1)),e.cancelScrollToIndex(),c==="smooth"&&e.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var f=e.getOffsetForIndex(n,l),g=f[0],u=f[1];e._scrollToOffset(g,{adjustments:void 0,behavior:c}),c!=="smooth"&&e.isDynamicMode()&&(e.scrollToIndexTimeoutId=setTimeout(function(){e.scrollToIndexTimeoutId=null;var b=e.measureElementCache.has(e.options.getItemKey(n));if(b){var v=e.getOffsetForIndex(n,u),m=v[0];Xt(m,e.scrollOffset)||e.scrollToIndex(n,{align:u,behavior:c})}else e.scrollToIndex(n,{align:u,behavior:c})}))},this.scrollBy=function(n,r){var a=r===void 0?{}:r,o=a.behavior;e.cancelScrollToIndex(),o==="smooth"&&e.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e._scrollToOffset(e.scrollOffset+n,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var n;return(((n=e.getMeasurements()[e.options.count-1])==null?void 0:n.end)||e.options.paddingStart)-e.options.scrollMargin+e.options.paddingEnd},this._scrollToOffset=function(n,r){var a=r.adjustments,o=r.behavior;e.options.scrollToFn(n,{behavior:o,adjustments:a},e)},this.measure=function(){e.itemSizeCache=new Map,e.notify(!1)},this.setOptions(s),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(n){e.itemSizeCache.set(n.key,n.size)}),this.maybeNotify()},et=function(s,e,n,r){for(;s<=e;){var a=(s+e)/2|0,o=n(a);if(o<r)s=a+1;else if(o>r)e=a-1;else return a}return s>0?s-1:0};function on(t){for(var s=t.measurements,e=t.outerSize,n=t.scrollOffset,r=s.length-1,a=function(f){return s[f].start},o=et(0,r,a,n),l=o;l<r&&s[l].end<n+e;)l++;return{startIndex:o,endIndex:l}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ln=typeof document<"u"?h.useLayoutEffect:h.useEffect;function cn(t){var s=h.useReducer(function(){return{}},{})[1],e=ae({},t,{onChange:function(o,l){l?xt.flushSync(s):s(),t.onChange==null||t.onChange(o,l)}}),n=h.useState(function(){return new an(e)}),r=n[0];return r.setOptions(e),h.useEffect(function(){return r._didMount()},[]),ln(function(){return r._willUpdate()}),r}function Un(t){return cn(ae({observeElementRect:tn,observeElementOffset:nn,scrollToFn:sn},t))}function un({minValue:t=0,maxValue:s=100,isDisabled:e=!1,step:n=1,formatOptions:r,onChangeEnd:a,onPointerDown:o,label:l,getValueLabel:c,showThumbOnHoverOnly:f,thumbSize:g,onPointerMove:u,...b}){const[v,m]=h.useState(!1),p=yt(r),{addGlobalListener:I,removeGlobalListener:M}=Ve(),j=h.useRef(null),[x,D]=se(b.value?b.value:void 0,b.defaultValue??[t],b.onChange),S=h.useRef(null);S.current=x;const[P,k]=h.useState(new Array(x.length).fill(!1)),T=h.useRef(null);T.current=P;function C(d){return p.format(d)}const N=d=>{var y;return((y=T.current)==null?void 0:y[d])||!1},V=d=>C(x[d]),A=d=>d===0?t:x[d-1],K=d=>d===x.length-1?s:x[d+1],L=(d,y)=>{if(e||!ce(d)||!S.current)return;const F=A(d),_=K(d);y=jt(y,F,_,n),S.current=Fe(S.current,d,y),D(S.current)},R=(d,y)=>{var _;if(e||!ce(d))return;const F=(_=T.current)==null?void 0:_[d];T.current=Fe(T.current||[],d,y),k(T.current),a&&F&&!T.current.some(Boolean)&&a(S.current||[])},[Y,G]=h.useState(void 0),X=d=>{const y=Math.min(1,(d-t)/(s-t));return isNaN(y)?0:y},Z=d=>X(S.current[d]),z=(d,y)=>{L(d,we(y))},nt=d=>Math.round((d-t)/n)*n+t,we=d=>{const y=d*(s-t)+t;return Pe(nt(y),t,s)},Ce=h.useRef(new Array(x.length).fill(!0)),ce=d=>Ce.current[d],rt=(d,y)=>{Ce.current[d]=y},O=h.useRef(null),Te=h.useRef(void 0),st=d=>{if(!(d.pointerType==="mouse"&&(d.button!==0||d.altKey||d.ctrlKey||d.metaKey))&&(o==null||o(),j.current&&!e&&x.every((y,F)=>!P[F]))){const y=j.current.offsetWidth,F=j.current.getBoundingClientRect().left,de=(d.clientX-F)/y,ee=we(de);let $;const B=x.findIndex(fe=>ee-fe<0);if(B===0)$=B;else if(B===-1)$=x.length-1;else{const fe=x[B-1],ut=x[B];Math.abs(fe-ee)<Math.abs(ut-ee)?$=B-1:$=B}$>=0&&ce($)?(d.preventDefault(),O.current=$,G($),Te.current=d.pointerId,R(O.current,!0),L($,ee),I(window,"pointerup",Ee,!1)):O.current=null}},Q=h.useRef(null),{domProps:at}=Ot({onPointerDown:st,onMoveStart(){Q.current=null},onMove(d,y){var _;const F=((_=j.current)==null?void 0:_.offsetWidth)||0;if(Q.current==null&&(Q.current=Z(O.current||0)*F),Q.current+=y,O.current!=null&&j.current){const de=Pe(Q.current/F,0,1);z(O.current,de)}},onMoveEnd(){O.current!=null&&(R(O.current,!1),O.current=null)}}),ot=Ge(at,{onPointerEnter:()=>{m(!0)},onPointerLeave:()=>{m(!1)},onPointerMove:d=>{u==null||u(d)}}),Ee=d=>{d.pointerId===Te.current&&(O.current!=null&&(R(O.current,!1),O.current=null),M(window,"pointerup",Ee,!1))},ue=h.useId(),it=l?`${ue}-label`:void 0,lt=`${ue}-group`,ct=[...Array(x.length)].map((d,y)=>`${ue}-thumb-${y}`);return{domProps:ot,trackRef:j,isDisabled:e,step:n,values:x,minValue:t,maxValue:s,focusedThumb:Y,labelId:it,groupId:lt,thumbIds:ct,numberFormatter:p,getThumbPercent:Z,getThumbMinValue:A,getThumbMaxValue:K,getThumbValueLabel:V,isThumbDragging:N,setThumbValue:L,updateDraggedThumbs:R,setThumbEditable:rt,setFocusedThumb:G,getValueLabel:c,isPointerOver:v,showThumbOnHoverOnly:f,thumbSize:g}}function Fe(t,s,e){return t[s]===e?t:[...t.slice(0,s),e,...t.slice(s+1)]}function dn(t){const{size:s="md",inline:e,label:n,showValueLabel:r=!!n,className:a,width:o="w-full",slider:l,children:c,trackColor:f="primary",fillColor:g="primary"}=t,{domProps:u,trackRef:b,getThumbPercent:v,getThumbValueLabel:m,labelId:p,groupId:I,thumbIds:M,isDisabled:j,numberFormatter:x,minValue:D,maxValue:S,step:P,values:k,getValueLabel:T}=l;let C="",N=Math.max([...x.format(D)].length,[...x.format(S)].length,[...x.format(P)].length);T?C=T(k[0]):k.length===1?C=m(0):k.length===2&&(C=`${m(0)} – ${m(1)}`,N=3+2*Math.max(N,[...x.format(D)].length,[...x.format(S)].length));const V=It({size:s,disabled:j,labelDisplay:"flex"}),A=w("touch-none",a,o,{"flex items-center":e});return i.jsxs("div",{className:A,role:"group",id:I,children:[(n||r)&&i.jsxs("div",{className:w(V.label,"select-none"),children:[n&&i.jsx("label",{onClick:()=>{var K;(K=document.getElementById(M[0]))==null||K.focus()},id:p,htmlFor:I,children:n}),r&&i.jsx("output",{htmlFor:M[0],className:"ml-auto text-right","aria-live":"off",style:N?{width:`${N}ch`,minWidth:`${N}ch`}:void 0,children:C})]}),i.jsxs("div",{ref:b,className:w("relative",fn(t)),...u,role:"presentation",children:[i.jsx("div",{className:w("absolute inset-0 m-auto rounded",mn(f,j),De(s))}),i.jsx("div",{className:w("absolute inset-0 my-auto rounded",hn(g,j),De(s)),style:{width:`${Math.max(v(0)*100,0)}%`}}),c]})]})}function fn({size:t,wrapperHeight:s}){if(s)return s;switch(t){case"xs":return"h-14";case"sm":return"h-20";default:return"h-30"}}function De(t){switch(t){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function mn(t,s){switch(s&&(t="disabled"),t){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return t}}function hn(t,s){switch(s&&(t="disabled"),t){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return t}}function vn({index:t,slider:s,isDisabled:e,ariaLabel:n,inputRef:r,onBlur:a,fillColor:o="primary"}){const l=St(r),{addGlobalListener:c,removeGlobalListener:f}=Ve(),{step:g,values:u,focusedThumb:b,labelId:v,thumbIds:m,isDisabled:p,getThumbPercent:I,getThumbMinValue:M,getThumbMaxValue:j,getThumbValueLabel:x,setThumbValue:D,updateDraggedThumbs:S,isThumbDragging:P,setThumbEditable:k,setFocusedThumb:T,isPointerOver:C,showThumbOnHoverOnly:N,thumbSize:V="w-18 h-18"}=s,A=P(t),K=u[t];k(t,!e);const L=e||p,R=h.useCallback(()=>{l.current&&l.current.focus({preventScroll:!0})},[l]),Y=b===t;h.useEffect(()=>{Y&&R()},[Y,R]);const G=h.useRef(void 0),X=z=>{z.pointerId===G.current&&(R(),S(t,!1),f(window,"pointerup",X,!1))},Z=w("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",V,!L&&"shadow-md",gn({fillColor:o,isDisabled:L,isDragging:A}),!N||N&&A||C?"visible":"invisible");return i.jsx("div",{role:"presentation",className:Z,style:{left:`${Math.max(I(t)*100,0)}%`},onPointerDown:z=>{z.button!==0||z.altKey||z.ctrlKey||z.metaKey||(R(),G.current=z.pointerId,S(t,!0),c(window,"pointerup",X,!1))},children:i.jsx("input",{id:m[t],onKeyDown:Oe(()=>{S(t,!0)}),onKeyUp:Oe(()=>{S(t,!1)}),ref:l,tabIndex:L?void 0:0,min:M(t),max:j(t),step:g,value:K,disabled:L,"aria-label":n,"aria-labelledby":v,"aria-orientation":"horizontal","aria-valuetext":x(t),onFocus:()=>{T(t)},onBlur:z=>{T(void 0),S(t,!1),a==null||a(z)},onChange:z=>{D(t,parseFloat(z.target.value))},type:"range",className:"sr-only"})})}function gn({isDisabled:t,isDragging:s,fillColor:e}){return t?"bg-slider-disabled cursor-default":e&&e!=="primary"?e:w("hover:bg-primary-dark",s?"bg-primary-dark":"bg-primary")}function bn({inputRef:t,onBlur:s,...e}){const{onChange:n,onChangeEnd:r,value:a,defaultValue:o,...l}=e,c={...l,value:a!=null?[a]:void 0,defaultValue:o!=null?[o]:void 0,onChange:g=>{n==null||n(g[0])},onChangeEnd:g=>{r==null||r(g[0])}},f=un(c);return i.jsx(dn,{...c,slider:f,children:i.jsx(vn,{fillColor:e.fillColor,index:0,slider:f,inputRef:t,onBlur:s})})}function Hn({name:t,...s}){const{field:{onChange:e,onBlur:n,value:r="",ref:a}}=wt({name:t}),o={onChange:e,onBlur:n,value:r||""};return i.jsx(bn,{inputRef:a,...Ge(o,s)})}const qn="channel",Vn=U(i.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}),"KeyboardArrowUpOutlined"),Gn=U(i.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"}),"DownloadOutlined"),tt=h.createContext(null);function pn(t=!1){h.useEffect(()=>(t?document.documentElement.classList.remove("no-page-overflow"):document.documentElement.classList.add("no-page-overflow"),()=>{document.documentElement.classList.remove("no-page-overflow")}),[t])}function Qn({children:t,leftSidenavStatus:s,onLeftSidenavChange:e,rightSidenavStatus:n,compactByDefault:r,initialRightSidenavStatus:a,onRightSidenavChange:o,name:l,leftSidenavCanBeCompact:c,height:f="h-screen",className:g,gridClassName:u="dashboard-grid",blockBodyOverflow:b=!0,...v}){pn(!b);const m=Qe("(max-width: 1024px)"),I=h.useMemo(()=>{if(!l)return r??!1;const C=ke(`${l}.sidenav.compact`);return C??r??!1},[l,r])?"compact":"open",[M,j]=se(s,m?"closed":I,e),x=h.useMemo(()=>{if(m)return"closed";if(a!=null)return a;const C=ke(`${l}.sidenav.right.position`,"open");return C??(a||"closed")},[m,l,a]),[D,S]=se(n,x,o),P=h.useCallback(C=>{S(C),Ct(`${l}.sidenav.right.position`,C)},[S,l]),k=Rt(m);h.useEffect(()=>{m!==k&&(m?(j("closed"),P("closed")):(j(I),P(x)))},[m,I,x,k,j,P]);const T=m&&(M==="open"||D==="open");return i.jsx(tt.Provider,{value:{leftSidenavStatus:M,setLeftSidenavStatus:j,rightSidenavStatus:D,setRightSidenavStatus:P,leftSidenavCanBeCompact:c,name:l,isMobileMode:m},children:i.jsxs("div",{...v,className:w("relative isolate",u,g,f),children:[t,i.jsx(Tt,{children:T&&i.jsx(Et,{position:"fixed",onClick:()=>{j("closed"),P("closed")}},"dashboard-underlay")})]})})}function Wn({className:t,position:s,children:e,size:n="md",mode:r,overlayPosition:a="fixed",display:o="flex",overflow:l="overflow-hidden",forceClosed:c=!1}){const{isMobileMode:f,leftSidenavStatus:g,setLeftSidenavStatus:u,rightSidenavStatus:b,setRightSidenavStatus:v}=h.useContext(tt),m=f||r==="overlay";let p=s==="left"?g:b;m&&p==="compact"&&(p="open");const I={open:{display:o,width:yn(p==="compact"?"compact":n)},closed:{width:0,transitionEnd:{display:"none"}}},M=xn(p==="compact"?"compact":n);return i.jsx(Mt.div,{variants:I,initial:!1,animate:c||p==="closed"?"closed":"open",transition:{type:"tween",duration:.15},onClick:j=>{const x=j.target;f&&(x.closest("button")||x.closest("a"))&&(u("closed"),v("closed"))},className:w(t,s==="left"?"dashboard-grid-sidenav-left":"dashboard-grid-sidenav-right",l,M,m&&`${a} bottom-0 top-0 z-20 shadow-2xl`,m&&s==="left"&&"left-0",m&&s==="right"&&"right-0"),children:h.cloneElement(e,{className:w(e.props.className,"w-full h-full overflow-y-auto compact-scrollbar",p==="compact"&&"hidden-scrollbar"),isCompactMode:p==="compact",isOverlayMode:m})})}function xn(t){switch(t){case"compact":return"w-60";case"sm":return"w-224";case"md":return"w-240";case"lg":return"w-288";default:return t||""}}function yn(t){switch(t){case"compact":return 60;case"sm":return 224;case"md":return 240;case"lg":return 288;default:return null}}function Jn({children:t,isScrollable:s=!0,stableScrollbar:e=!0}){return h.cloneElement(t,{className:w(t.props.className,s&&"overflow-y-auto",s&&e&&"stable-scrollbar","dashboard-grid-content","has-[.dashboard-stable-scrollbar]:stable-scrollbar")})}const Yn={discography:"1",similar:"2",about:"3",tracks:"4",albums:"5",followers:"6"},Xn=U(i.jsx("path",{d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridViewOutlined");function Zn(t){const{close:s}=xe(),{image:e,images:n}=t,[r,a]=se(t.activeIndex,t.defaultActiveIndex,t.onActiveIndexChange),o=e||(n==null?void 0:n[r]);return i.jsx(ye,{size:"fullscreenTakeover",background:"bg-black/80",children:i.jsxs(je,{padding:"p-0",className:"h-full w-full",children:[i.jsx(he,{size:"lg",color:"paper",className:"absolute right-0 top-0 z-20 text-white",onClick:()=>{s()},children:i.jsx(zt,{})}),i.jsxs("div",{className:"relative flex h-full w-full items-center justify-center p-40",children:[n!=null&&n.length?i.jsx(he,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 left-20 top-0 my-auto",disabled:r<1,onClick:()=>{a(r-1)},children:i.jsx(qe,{})}):null,i.jsx("img",{src:o,alt:"",className:"max-h-full w-auto object-contain shadow"}),n!=null&&n.length?i.jsx(he,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 right-20 top-0 my-auto",disabled:r+1===(n==null?void 0:n.length),onClick:()=>{a(r+1)},children:i.jsx(We,{})}):null]})]})})}function er(){return Qe("((pointer: coarse))")}function tr(){return be({mutationFn:t=>jn(t),onSuccess:(t,s)=>{pe(ie("[one Comment deleted|other Deleted :count comments]",{values:{count:s.commentIds.length}}))},onError:t=>Ue(t)})}function jn({commentIds:t}){return J.delete(`comment/${t.join(",")}`).then(s=>s.data)}export{Tn as A,Yn as B,zn as C,Gn as D,Nt as E,er as F,On as G,tr as H,Zn as I,Ht as J,Vn as K,te as L,Bn as M,An as N,Ln as O,Mn as P,Hn as Q,Qt as R,bn as S,Cn as T,Fn as U,Lt as a,Pn as b,_t as c,kn as d,Dn as e,Nn as f,$t as g,Ze as h,Ye as i,ge as j,Xe as k,$n as l,_n as m,Kn as n,Un as o,nn as p,un as q,qn as r,En as s,Rn as t,Rt as u,tt as v,Qn as w,Wn as x,Jn as y,Xn as z};
//# sourceMappingURL=use-delete-comments-d8cb9bb8.js.map
