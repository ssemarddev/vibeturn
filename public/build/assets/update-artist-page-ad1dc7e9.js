import{a8 as ea,j as e,N as gs,F as fs,aa as K,aw as Ce,k as T,as as Se,p as Q,bk as Le,r as x,bT as Re,ak as M,cb as hs,h as D,$ as Fe,bS as sa,I as _e,aC as Ve,x as S,a0 as G,a1 as $e,at as ne,T as l,C as R,ay as te,au as Ae,i as Z,w as H,q as J,o as oe,ac as aa,u as Pe,G as ls,cD as C,H as ta,cE as na,ck as ra,R as ps,aF as ia,cf as la,cg as oa,bU as js,aG as bs,cF as ca,bg as da,cG as ua,cH as ma,bc as Be,a2 as vs,aX as xa,cI as ga,cJ as fa,cK as os,cL as ha,cM as pa,cN as ja,cO as cs,am as qe,B as N,a9 as re,af as Oe,ag as He,z as ds,m as W,aO as ba,cP as va,bJ as ya,cl as ka,cQ as Ia,D as Ke,an as We,P as De,Q as P,ad as ys,al as ks,O as ce,c2 as Is,b7 as ws,bC as Ns,ap as Cs,L as O,bf as Ss,ao as wa,ab as Na,l as Ca,M as X,bj as Sa,J as Y,bd as Fa,aq as Aa,K as de,aL as Ge,bn as Qe,ba as Pa,b8 as Da}from"./main-41809f72.js";import{c as Te,F as Ta,S as Ua,a as Ie,b as Ma}from"./theme-value-to-hex-3be344f1.js";import{V as za,L as Fs,G as Ze,I as Ea,A as Je,J as La,u as As,v as Ra,k as we,j as Ne,f as Ue,e as Xe,q as Me,S as _a,X as Va,P as $a,h as Ps,t as Ds,p as Ye,n as Ts,H as Us,K as Ms,O as zs,s as Ba,o as qa,l as Oa,E as Ha,x as Ka,r as Wa,T as Ga,a as Qa,b as je,c as Za,d as be,Q as Ja,m as Xa}from"./use-artist-permissions-2bfa1a86.js";import{f as Ya,g as et,t as st,b as at,c as tt,d as nt,C as rt,D as it,R as lt,h as ot,i as ct,L as dt,P as us,G as ut,j as mt}from"./geo-chart-dd0fea1d.js";import{E as es}from"./Edit-c859bb2c.js";const xt=""+new URL("light-bg-8c37cb47.svg",import.meta.url).href,gt=""+new URL("dark-bg-38ecc414.svg",import.meta.url).href;function ee({children:s,...a}){const t=ea();return e.jsxs("div",{className:"flex h-screen flex-col",...a,children:[e.jsx(gs,{className:"flex-shrink-0",color:"bg",darkModeColor:"bg"}),e.jsx("div",{className:"relative flex-auto overflow-y-auto bg-cover",style:{backgroundImage:`url(${t?gt:xt})`},children:e.jsxs("div",{className:"container mx-auto flex min-h-full flex-col p-14 md:p-24",children:[e.jsx("div",{className:"flex-auto",children:s}),e.jsx(fs,{})]})})]})}const se=(s,a,t)=>{const n=t?[...t]:s.split("/");return a&&n.push(a),n};function er(s,a,t,n){a.paginate||(a.paginate="preferLengthAware");const r=t==null?void 0:t.baseQueryKey;return t==null||delete t.baseQueryKey,K({...t,queryKey:se(s,a,r),queryFn:({signal:i})=>ft(s,a,n,i),placeholderData:Ce})}async function ft(s,a,t,n){a.query&&await new Promise(i=>setTimeout(i,300));const r=await T.get(s,{params:a,signal:a.query?n:void 0}).then(i=>i.data);return t==null||t(r),r}const sr=Se(e.jsx("path",{d:"M7 3H4v3H2V1h5v2zm15 3V1h-5v2h3v3h2zM7 21H4v-3H2v5h5v-2zm13-3v3h-3v2h5v-5h-2zM17 6H7v12h10V6zm2 12c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v12zM15 8H9v2h6V8zm0 3H9v2h6v-2zm0 3H9v2h6v-2z"}),"DocumentScannerOutlined");function Es(s,a,t){return K({queryKey:[...s.split("/"),a],queryFn:()=>ht(s,a),placeholderData:Ce,...t})}async function ht(s,a){return T.get(s,{params:a}).then(t=>"results"in t.data?t.data:{results:Object.values(t.data).find(r=>Array.isArray(r))})}function Ls(s,a,t){return K({queryKey:[s,a],queryFn:()=>pt(s,a),...t})}async function pt(s,a){return T.get(s,{params:a}).then(t=>t.data)}function jt({label:s,className:a,background:t,value:n,defaultValue:r="",placeholder:i=S("Select item..."),searchPlaceholder:o=S("Find an item..."),onChange:d,description:c,errorMessage:f,invalid:j,autoFocus:u,queryParams:g,endpoint:m,disabled:h,required:p}){var V;const b=x.useRef(null),[y,I]=x.useState(""),[A,w]=Re(n,r,d),U=Es(m,{query:y,...g}),{trans:z}=M(),_=hs({size:"md"});return A?e.jsxs("div",{className:a,children:[e.jsx("div",{className:_.label,children:s}),e.jsx("div",{className:D("rounded-input border p-8",t,j&&"border-danger"),children:e.jsx(Fe,{initial:!1,mode:"wait",children:e.jsx(bt,{disabled:h,endpoint:m,modelId:A,queryParams:g,onEditClick:()=>{w(""),I(""),requestAnimationFrame(()=>{var F,$;(F=b.current)==null||F.focus(),($=b.current)==null||$.click()})}})})}),c&&!f&&e.jsx("div",{className:_.description,children:c}),f&&e.jsx("div",{className:_.error,children:f})]}):e.jsx(sa,{className:a,showSearchField:!0,invalid:j,errorMessage:f,description:c,color:"white",isAsync:!0,background:t,placeholder:z(i),searchPlaceholder:z(o),label:s,isLoading:U.isFetching,items:(V=U.data)==null?void 0:V.results,inputValue:y,onInputValueChange:I,selectionMode:"single",selectedValue:A,onSelectionChange:w,ref:b,autoFocus:u,disabled:h,required:p,children:F=>e.jsx(_e,{value:F.id,description:F.description,startIcon:e.jsx(Ve,{src:F.image,size:"sm",label:F.name}),children:F.name},F.id)})}function bt({modelId:s,onEditClick:a,endpoint:t,disabled:n,queryParams:r}){const{data:i,isLoading:o}=Ls(`${t}/${s}`,r);return o||!(i!=null&&i.model)?e.jsx(vt,{},"skeleton"):e.jsxs(G.div,{className:D("flex items-center gap-10",n&&"pointer-events-none cursor-not-allowed text-disabled"),...$e,children:[e.jsx(Ve,{src:i.model.image,label:i.model.name}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm leading-4",children:i.model.name}),e.jsx("div",{className:"text-xs text-muted",children:i.model.description})]}),e.jsx(ne,{label:e.jsx(l,{message:"Change item"}),children:e.jsx(R,{className:"ml-auto text-muted",size:"sm",onClick:a,disabled:n,children:e.jsx(es,{})})})]},"preview")}function vt(){return e.jsxs(G.div,{className:"flex items-center gap-10",...$e,children:[e.jsx(te,{variant:"rect",size:"w-32 h-32"}),e.jsxs("div",{className:"max-h-[36px] flex-auto",children:[e.jsx(te,{className:"text-xs"}),e.jsx(te,{className:"max-h-8 text-xs"})]}),e.jsx(te,{variant:"icon",size:"w-24 h-24"})]})}function yt({name:s,...a}){const{clearErrors:t}=Q(),{field:{onChange:n,value:r=""},fieldState:{invalid:i,error:o}}=Le({name:s});return e.jsx(jt,{value:r,onChange:d=>{n(d),t(s)},invalid:i,errorMessage:o==null?void 0:o.message,...a})}function ar(){const{requestId:s}=Ae();return K({queryKey:["backstage-request",+s],queryFn:()=>kt(s)})}function kt(s){return T.get(`backstage-request/${s}`).then(a=>a.data)}const Rs="tracks";function _s(s,{onSuccess:a}={}){const{trans:t}=M();return Z({mutationFn:n=>It(n),onSuccess:n=>{H(t(S("Track created"))),J.invalidateQueries({queryKey:se(Rs)}),a==null||a(n)},onError:n=>oe(n,s)})}function It(s){return T.post(Rs,ss(s)).then(a=>a.data)}function ss(s){var a;return{...s,album_id:s.album_id?s.album_id:null,artists:(a=s.artists)==null?void 0:a.map(t=>t.id)}}const Vs="albums";function $s(s){const{trans:a}=M();return Z({mutationFn:t=>wt(t),onSuccess:()=>{H(a(S("Album created"))),J.invalidateQueries({queryKey:se(Vs)})},onError:t=>oe(t,s)})}function wt(s){return T.post(Vs,Bs(s)).then(a=>a.data)}function Bs(s){var a,t;return{...s,artists:(a=s.artists)==null?void 0:a.map(n=>n.id),tracks:(t=s.tracks)==null?void 0:t.map(n=>ss(n))}}function Nt(){return Z({mutationFn:s=>Ct(s),onError:s=>aa(s)})}function Ct(s){return T.post(`tracks/${s.fileEntryId}/extract-metadata`,s).then(a=>St(a.data))}function St(s){const a={name:s.metadata.title,duration:s.metadata.duration,genres:s.metadata.genres||[],description:s.metadata.comment,lyric:s.metadata.lyrics,release_date:s.metadata.release_date,album_name:s.metadata.album_name};return s.metadata.album&&(a.album_id=s.metadata.album.id),s.metadata.artist&&(a.artists=[s.metadata.artist]),s.metadata.image&&(a.image=s.metadata.image.url),a}function qs(s,a){var t,n;!((t=s.getValues("artists"))!=null&&t.length)&&a.artists&&s.setValue("artists",a.artists),!s.getValues("image")&&a.image&&s.setValue("image",a.image),a.release_date&&s.setValue("release_date",a.release_date),(n=a.genres)!=null&&n.length&&s.setValue("genres",ke(s.getValues("genres"),a.genres)),!s.getValues("name")&&a.album_name&&s.setValue("name",a.album_name)}function ie(s,a){return{...a,...s,artists:ke(a.artists,s.artists),genres:ke(a.genres,s.genres,"name"),tags:ke(a.tags,s.tags,"name")}}function ke(s=[],a=[],t="id"){return a=a.filter(n=>!s.find(r=>r[t]===n[t])),[...s,...a]}const Ft=50*1024*1024;function ze(s){const{uploads:a}=Pe(),t=x.useMemo(()=>({allowedFileTypes:[ls.audio,ls.video],maxFileSize:a.max_size||Ft}),[a.max_size]),n=Nt(),r=x.useRef(s);r.current=s;const i=C(m=>m.uploadMultiple),o=C(m=>m.updateFileUpload),d=C(m=>m.getUpload),c=x.useCallback((m,h)=>{var p;o(m,{meta:{...((p=d(m))==null?void 0:p.meta)||{},...h}})},[o,d]),f=x.useMemo(()=>({metadata:{diskPrefix:"track_media",disk:ta.public},restrictions:t,onSuccess:(m,h)=>{c(h.id,{isExtractingMetadata:!0}),n.mutate({fileEntryId:m.id,autoMatchAlbum:r.current.autoMatchAlbum},{onSuccess:p=>{c(h.id,{isExtractingMetadata:!1});const b={...p,src:m.url};r.current.onMetadataChange(h,b)},onError:()=>{c(h.id,{isExtractingMetadata:!1})}})},onError:m=>{m&&H.danger(m)}}),[n,c,t]),j=x.useCallback(m=>{const h=m.filter(p=>!na(p,t));return m.length!==h.length&&H.danger(S(":count of your files is not supported.",{values:{count:m.length-h.length}})),h},[t]),u=x.useCallback(async m=>{if(j(m).length){m.forEach(p=>{var b,y;(y=(b=r.current).onUploadStart)==null||y.call(b,{name:p.name,uploadId:p.id})}),i(m,f);for(const p of m){c(p.id,{isGeneratingWave:!0});const b=await za(p.native);b&&r.current.onMetadataChange(p,{waveData:b}),c(p.id,{isGeneratingWave:!1})}}},[f,i,c,j]);return{openFilePicker:x.useCallback(async()=>{const m=await ra({multiple:!0,types:t.allowedFileTypes});await u(m)},[u,t]),uploadTracks:u,validateUploads:j}}function Ee(s){return{id:s,name:`${s}`,description:`${s}`}}function At(s,a){const t=x.useRef(null),n=ia(a),{displayWith:r=E=>E.name,validateWith:i,children:o,suggestions:d,isLoading:c,inputValue:f,onInputValueChange:j,onItemSelected:u,placeholder:g,onOpenChange:m,chipSize:h="sm",openMenuOnFocus:p=!0,showEmptyMessage:b,value:y,defaultValue:I,onChange:A,valueKey:w,isAsync:U,allowCustomValue:z=!0,showDropdownArrow:_,onChipClick:V,alwaysShowAvatar:F=!1,readOnly:$,...xe}=s,ge=hs({...s,flexibleHeight:!0}),[ae,fe]=Tt(s),[he,pe]=x.useState(!1),v=e.jsx(vs,{isIndeterminate:!0,size:"w-24 h-24","aria-label":"loading..."}),k=_?e.jsx(xa,{}):null,{fieldProps:B,inputProps:q}=la({...xe,focusRef:n,endAdornment:c&&he?v:k});return e.jsx(oa,{fieldClassNames:ge,...B,children:e.jsxs(Ya,{ref:t,className:D("flex flex-wrap items-center",ge.input),onClick:()=>{var E;(E=n.current)==null||E.focus()},children:[e.jsx(Pt,{displayChipUsing:r,onChipClick:V,items:ae,setItems:fe,chipSize:h,alwaysShowAvatar:F,readOnly:$}),e.jsx(Dt,{size:s.size,showEmptyMessage:b,inputProps:q,inputValue:f,onInputValueChange:j,fieldRef:t,inputRef:n,chips:ae,setChips:fe,validateWith:i,isLoading:c,suggestions:d,placeholder:g,openMenuOnFocus:p,listboxIsOpen:he,setListboxIsOpen:pe,allowCustomValue:z,readOnly:$,children:o})]})})}function Pt({items:s,setItems:a,displayChipUsing:t,chipSize:n,onChipClick:r,alwaysShowAvatar:i,readOnly:o}){const d=js(),c=x.useCallback(f=>{const j=s.findIndex(g=>g.id===f),u=[...s];return j>-1&&(u.splice(j,1),a(u)),u},[s,a]);return e.jsx(Fs,{className:D("max-w-full flex-shrink-0 flex-wrap",n==="xs"?"my-6":"my-8"),size:n,selectable:!0,children:s.map(f=>e.jsx(bs,{errorMessage:f.errorMessage,adornment:f.image||i?e.jsx(Ve,{circle:!0,src:f.image,fallback:"initials",label:f.name}):null,onClick:()=>r==null?void 0:r(f),onRemove:o?void 0:()=>{c(f.id).length?d==null||d.focusPrevious({tabbable:!0}):d==null||d.focusLast()},children:t(f)},f.id))})}function Dt(s){const{inputRef:a,fieldRef:t,validateWith:n,setChips:r,chips:i,suggestions:o,inputProps:d,placeholder:c,openMenuOnFocus:f,listboxIsOpen:j,setListboxIsOpen:u,allowCustomValue:g,isLoading:m,size:h,readOnly:p}=s,b=js(),y=x.useCallback(v=>{v=(v||[]).filter(k=>{const B=!k||!k.id||!k.name;return!(i.findIndex(E=>E.id===(k==null?void 0:k.id))>-1)&&!B}),v.length&&(n&&(v=v.map(k=>n(k))),r([...i,...v]))},[i,r,n]),I=ca({...s,clearInputOnItemSelection:!0,isOpen:j,onOpenChange:u,items:o,selectionMode:"none",role:"listbox",virtualFocus:!0,onItemSelected:v=>{ae(v)}}),{state:{activeIndex:A,setActiveIndex:w,isOpen:U,setIsOpen:z,inputValue:_,setInputValue:V},refs:F,listboxId:$,collection:xe,onInputChange:ge}=I,ae=v=>{const k=xe.size&&A!=null?[...xe.values()][A]:null;k!=null&&k.item?y([k.item]):g&&y([Ee(k?k.value:v)]),V(""),w(null),z(!1)};da(()=>{t.current&&F.reference.current!==t.current&&I.reference(t.current)},[t,I,F]);const{handleTriggerKeyDown:fe,handleListboxKeyboardNavigation:he}=ga(I),pe=fa(()=>{f&&!U&&z(!0)});return e.jsx(ua,{listbox:I,mobileOverlay:ma,isLoading:m,onPointerDown:v=>{v.preventDefault()},children:e.jsx("input",{readOnly:p,type:"text",className:D("mx-8 my-4 min-w-30 flex-[1_1_60px] bg-transparent text-sm outline-none",h==="xs"?"h-20":"h-30"),placeholder:c,...Be(d,{ref:a,value:_,onChange:ge,onPaste:v=>{const B=v.clipboardData.getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(B){v.preventDefault();const q=window.getSelection();q!=null&&q.rangeCount&&(q.deleteFromDocument(),y(B.map(E=>Ee(E))))}},"aria-autocomplete":"list","aria-controls":U?$:void 0,autoComplete:"off",autoCorrect:"off",spellCheck:"false",onKeyDown:v=>{if(p)return;const k=v.target;if(v.key==="Enter"){v.preventDefault(),ae(k.value);return}if(v.key==="Escape"&&U&&(z(!1),V("")),v.key==="ArrowUp"&&U&&(A===0||A==null)){w(null);return}if(A!=null&&(v.key==="ArrowLeft"||v.key==="ArrowRight")){v.preventDefault();return}if((v.key==="ArrowLeft"||v.key==="Backspace"||v.key==="Delete")&&k.selectionStart===0&&A==null&&i.length){b==null||b.focusPrevious({tabbable:!0});return}fe(v)||he(v)},onFocus:p?void 0:pe,onClick:p?void 0:pe})})})}function Tt({onChange:s,value:a,defaultValue:t,valueKey:n}){const r=x.useMemo(()=>ms(a),[a]),i=x.useMemo(()=>ms(t),[t]),o=x.useCallback(d=>{const c=n?d.map(f=>f[n]):d;s==null||s(c)},[s,n]);return Re(r||void 0,i||[],o)}function ms(s){if(s!=null)return s.map(a=>typeof a!="object"?Ee(a):a)}const Ut=ps.forwardRef(At);function Os({children:s,...a}){const{field:{onChange:t,onBlur:n,value:r=[],ref:i},fieldState:{invalid:o,error:d}}=Le({name:a.name}),c={onChange:t,onBlur:n,value:r,invalid:o,errorMessage:d==null?void 0:d.message};return e.jsx(Ut,{ref:i,...Be(c,a),children:s})}function Mt(s){return K({queryKey:["artists","search-suggestions",s],queryFn:()=>zt(s),placeholderData:Ce})}async function zt(s){return T.get("search/suggestions/artist",{params:s}).then(a=>a.data)}function Hs({name:s,className:a}){const{trans:t}=M(),[n,r]=x.useState(""),{data:i,isLoading:o}=Mt({query:n});return e.jsx(Os,{className:a,name:s,label:e.jsx(l,{message:"Artists"}),isAsync:!0,inputValue:n,onInputValueChange:r,suggestions:i==null?void 0:i.results,placeholder:t(S("+Add artist")),isLoading:o,allowCustomValue:!1,children:i==null?void 0:i.results.map(d=>e.jsx(_e,{value:d,startIcon:d.image?e.jsx("img",{className:"h-24 w-24 rounded-full object-cover",src:d.image,alt:""}):void 0,children:d.name},d.id))})}function le({name:s,label:a,placeholder:t,model:n,className:r,allowCustomValue:i=!1}){const[o,d]=x.useState(""),{data:c,isLoading:f}=Es(`normalized-models/${n}`,{query:o});return e.jsx(Os,{className:r,name:s,label:a,isAsync:!0,inputValue:o,onInputValueChange:d,suggestions:c==null?void 0:c.results,placeholder:t,isLoading:f,allowCustomValue:i,children:c==null?void 0:c.results.map(j=>e.jsx(_e,{value:j,startIcon:j.image?e.jsx("img",{className:"h-24 w-24 rounded-full object-cover",src:j.image,alt:""}):void 0,children:j.name},j.id))})}const Ks="tag";function Et(s){const a=Te(),[t,n]=x.useState(!s.value&&!s.defaultValue),r=s.onChange,[i,o]=Re(s.value||a,s.defaultValue||a,w=>{n(!1),r==null||r(w)}),{min:d,max:c,granularity:f,timezone:j,calendarIsOpen:u,setCalendarIsOpen:g,closeDialogOnSelection:m}=et(i,s),h=x.useCallback(()=>{n(!0),o(a),r==null||r(null),g(!1)},[a,o,r,g]),[p,b]=x.useState(()=>[os(i)]),y=x.useCallback(w=>{d&&w.compare(d)<0?w=d:c&&w.compare(c)>0&&(w=c);const U=i?i.set(w):st(w,j);o(U),b([os(U)]),n(!1)},[o,d,c,i,j]),I=x.useCallback(w=>!t&&ha(i,w),[i,t]),A=x.useCallback(w=>({onClick:()=>{y==null||y(w),m&&(g==null||g(!1))}}),[y,g,m]);return{selectedValue:i,setSelectedValue:o,calendarIsOpen:u,setCalendarIsOpen:g,dayIsActive:I,dayIsHighlighted:()=>!1,dayIsRangeStart:()=>!1,dayIsRangeEnd:()=>!1,getCellProps:A,calendarDates:p,setCalendarDates:b,isPlaceholder:t,clear:h,setIsPlaceholder:n,min:d,max:c,granularity:f,timezone:j,closeDialogOnSelection:m}}function Lt({showCalendarFooter:s,...a}){const t=Et(a),n=x.useRef(null),r=Te(),i=s&&e.jsx(qe,{padding:"px-14 pb-14",startAction:e.jsx(N,{disabled:t.isPlaceholder,variant:"text",color:"primary",onClick:()=>{t.clear()},children:e.jsx(l,{message:"Clear"})}),children:e.jsx(N,{variant:"text",color:"primary",onClick:()=>{t.setSelectedValue(r),t.setCalendarIsOpen(!1)},children:e.jsx(l,{message:"Today"})})}),o=e.jsx(re,{offset:8,placement:"bottom-start",isOpen:t.calendarIsOpen,onOpenChange:t.setCalendarIsOpen,type:"popover",triggerRef:n,returnFocusToTrigger:!1,moveFocusToDialog:!1,children:e.jsxs(Oe,{size:"auto",children:[e.jsx(He,{className:"flex items-start gap-40",padding:s?"px-24 pt-20 pb-10":null,children:e.jsx(rt,{state:t,visibleMonths:1})}),i]})}),d={onClick:c=>{c.stopPropagation(),c.preventDefault(),_t(c)?t.setCalendarIsOpen(!1):t.setCalendarIsOpen(!0)}};return e.jsxs(x.Fragment,{children:[e.jsx(at,{ref:n,wrapperProps:d,endAdornment:e.jsx(tt,{className:D(a.disabled&&"text-disabled")}),...a,children:e.jsx(nt,{segmentProps:d,state:t,value:t.selectedValue,onChange:t.setSelectedValue,isPlaceholder:t.isPlaceholder})}),o]})}function Rt(s){const{min:a,max:t}=s,n=pa(),r=s.timezone||n,{trans:i}=M(),{format:o}=ja({timeZone:r}),{field:{onChange:d,onBlur:c,value:f=null,ref:j},fieldState:{invalid:u,error:g}}=Le({name:s.name,rules:{validate:p=>{if(!p)return;const b=cs(p,r);if(a&&b.compare(a)<0)return i({message:"Enter a date after :date",values:{date:o(p)}});if(t&&b.compare(t)>0)return i({message:"Enter a date before :date",values:{date:o(p)}})}}}),m=f?cs(f,r):null,h={onChange:p=>{d(p&&p.toAbsoluteString())},onBlur:c,value:m,invalid:u,errorMessage:g==null?void 0:g.message,inputRef:j};return e.jsx(Lt,{...Be(h,s)})}function _t(s){return["hour","minute","dayPeriod"].includes(s.currentTarget.ariaLabel||"")}const Ws=Se(e.jsx("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z"}),"FileUploadOutlined"),Vt=Se(e.jsx("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandleOutlined");function Gs({fileUpload:s,status:a,className:t}){const n=(s==null?void 0:s.bytesUploaded)||0,r=x.useMemo(()=>ds(s.file.size),[s.file.size]),i=x.useMemo(()=>ds(n),[n]);let o;return a==="completed"?o=e.jsx(l,{message:"Upload complete"}):a==="aborted"?o=e.jsx(l,{message:"Upload cancelled"}):a==="failed"?o=e.jsx(l,{message:"Upload failed"}):a==="processing"?o=e.jsx(l,{message:"Processing upload..."}):a==="pending"?o=e.jsx(l,{message:"Waiting to start..."}):o=e.jsx(l,{message:":bytesUploaded of :totalBytes uploaded",values:{bytesUploaded:i,totalBytes:r}}),e.jsx("div",{className:D("text-xs text-muted",t),children:o})}const $t=s=>`tracks/${s}`;function Bt(s,a={}){const{trans:t}=M();return Z({mutationFn:n=>qt(n),onSuccess:n=>{var r;H(t(S("Track updated"))),J.invalidateQueries({queryKey:se("tracks")}),(r=a.onSuccess)==null||r.call(a,n)},onError:n=>oe(n,s)})}function qt({id:s,...a}){return T.put($t(s),ss(a)).then(t=>t.data)}function Qs(s,a={}){var r;const t=W({defaultValues:{...s,image:s.image||((r=s.album)==null?void 0:r.image)}}),n=Bt(t,{onSuccess:a.onTrackUpdated});return{form:t,updateTrack:n}}function Zs({fileUpload:s,status:a,onAbort:t,size:n="md",className:r}){return e.jsxs("div",{className:r,children:[e.jsxs("div",{className:"flex items-center justify-between gap-24",children:[e.jsx(Gs,{fileUpload:s,status:a}),e.jsx(Ot,{fileUpload:s,status:a,onAbort:t})]}),e.jsx(ba,{size:n==="sm"?"xs":"sm",radius:"rounded-sm",value:s.percentage,isIndeterminate:a==="processing"||a==="pending"})]})}function Ot({fileUpload:s,status:a,onAbort:t}){C(i=>i.abortUpload),C(i=>i.clearInactive);const n=s.errorMessage;let r;if(a==="failed"){const i=n||S("This file could not be uploaded");r=e.jsx(ve,{children:e.jsx(ne,{variant:"danger",label:e.jsx(va,{value:i}),children:e.jsx(ya,{className:"text-danger",size:"sm"})})})}else a==="aborted"?r=e.jsx(ve,{children:e.jsx(ka,{className:"text-warning",size:"sm"})}):a==="completed"||a==="processing"?r=e.jsx(ve,{children:e.jsx(Ia,{size:"sm",className:"text-primary"})}):t?r=e.jsx(ve,{children:e.jsx(R,{size:"xs",onClick:()=>t(s.file.id),children:e.jsx(Ke,{})})}):r=e.jsx("div",{className:"h-30 w-30"});return e.jsx(Fe,{children:r})}function ve({children:s,...a}){return e.jsx(G.div,{className:"flex h-30 w-30 items-center justify-center",...a,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:s})}function as(s){const a=C(r=>s?r.fileUploads.get(s):null);let t=!1,n;if(a){const r=a.meta,i=(r==null?void 0:r.isExtractingMetadata)||(r==null?void 0:r.isGeneratingWave);t=(a==null?void 0:a.status)==="pending"||(a==null?void 0:a.status)==="inProgress"||!!i,n=(a==null?void 0:a.status)==="completed"&&i?"processing":a==null?void 0:a.status}return{isUploading:t,status:n,activeUpload:a}}function Ht(){const[s,a]=x.useState(),{setValue:t,watch:n,getValues:r}=Q(),{openFilePicker:i}=ze({onUploadStart:({uploadId:u})=>a(u),onMetadataChange:(u,g)=>{const m=ie(g,r());Object.entries(m).forEach(([h,p])=>t(h,p,{shouldDirty:!0}))}}),{status:o,isUploading:d,activeUpload:c}=as(s),f=C(u=>u.abortUpload),j=C(u=>u.clearInactive);return e.jsxs("div",{children:[e.jsx(N,{className:"w-full",variant:"flat",color:"primary",startIcon:e.jsx(Ws,{}),disabled:d,onClick:()=>i(),children:n("src")?e.jsx(l,{message:"Replace file"}):e.jsx(l,{message:"Upload file"})}),c&&e.jsx(Zs,{fileUpload:c,status:o,className:"mt-24",onAbort:u=>{f(u),j()}})]})}function ue({showExternalIdFields:s,showAlbumField:a=!0,uploadButton:t}){const{trans:n}=M(),r=We();return e.jsxs("div",{className:"gap-24 md:flex",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx(De,{name:"image",diskPrefix:"track_image",variant:r?"input":"square",label:r?e.jsx(l,{message:"Image"}):null,previewSize:r?void 0:"w-full md:w-224 aspect-square",stretchPreview:!0}),e.jsx("div",{className:"mt-24",children:t||e.jsx(Ht,{})})]}),e.jsxs("div",{className:"mt-24 flex-auto md:mt-0",children:[e.jsx(P,{name:"name",label:e.jsx(l,{message:"Name"}),className:"mb-24",required:!0,autoFocus:!0}),a&&e.jsx(yt,{className:"mb-24",label:e.jsx(l,{message:"Album"}),name:"album_id",endpoint:"search/suggestions/album"}),e.jsx(Hs,{name:"artists",className:"mb-24"}),e.jsx(le,{label:e.jsx(l,{message:"Genres"}),placeholder:n(S("+Add genre")),model:Ze,name:"genres",allowCustomValue:!0,className:"mb-24"}),e.jsx(le,{label:e.jsx(l,{message:"Tags"}),placeholder:n(S("+Add tag")),model:Ks,name:"tags",allowCustomValue:!0,className:"mb-24"}),e.jsx(P,{name:"description",label:e.jsx(l,{message:"Description"}),inputElementType:"textarea",rows:5,className:"mb-24"}),e.jsx(Gt,{}),s&&e.jsx(Kt,{}),s&&e.jsx(Wt,{})]})]})}function Kt(){return e.jsx(P,{name:"src",label:e.jsx(l,{message:"Playback source"}),className:"mb-24",minLength:1,maxLength:230,description:e.jsx(l,{message:"Supports audio, video, hls/dash stream and youtube video url. If left empty, best matching youtube video will be found automatically."})})}function Wt(){const{spotify_is_setup:s}=Pe();return s?e.jsx(P,{name:"spotify_id",label:e.jsx(l,{message:"Spotify ID"}),className:"mb-24",minLength:22,maxLength:22}):null}function Gt(){const{watch:s}=Q();return e.jsx(P,{required:!0,name:"duration",label:e.jsx(l,{message:"Duration (in milliseconds)"}),className:"mb-24",type:"number",min:1,max:864e5,description:e.jsx(l,{message:"Will appear on the site as: :preview",values:{preview:e.jsx(Ta,{ms:s("duration")})}})})}function Qt({track:s,hideAlbumField:a}){const{formId:t,close:n}=ys(),{form:r}=Qs(s);return e.jsxs(Oe,{size:"fullscreen",children:[e.jsx(ks,{children:e.jsx(l,{message:"Edit “:name“ track",values:{name:s.name}})}),e.jsx(He,{children:e.jsx(ce,{id:t,form:r,onSubmit:i=>{n(i)},onBeforeSubmit:()=>{r.clearErrors()},children:e.jsx(ue,{showExternalIdFields:!0,showAlbumField:!a})})}),e.jsxs(qe,{children:[e.jsx(N,{variant:"text",onClick:()=>n(),children:e.jsx(l,{message:"Cancel"})}),e.jsx(N,{form:t,variant:"flat",color:"primary",type:"submit",children:e.jsx(l,{message:"Update"})})]})]})}const Js=""+new URL("music-7a11c2fe.svg",import.meta.url).href;function Xs({onTrackCreated:s,defaultValues:a}={}){const t=W({defaultValues:a}),n=_s(t,{onSuccess:s});return{form:t,createTrack:n}}function Zt({defaultValues:s,hideAlbumField:a}){const{formId:t,close:n}=ys(),{form:r}=Xs({defaultValues:s});return e.jsxs(Oe,{size:"fullscreen",children:[e.jsx(ks,{children:e.jsx(l,{message:"Add new track"})}),e.jsx(He,{children:e.jsx(ce,{id:t,form:r,onSubmit:i=>{n(i)},onBeforeSubmit:()=>{r.clearErrors()},children:e.jsx(ue,{showExternalIdFields:!0,showAlbumField:!a})})}),e.jsxs(qe,{children:[e.jsx(N,{variant:"text",onClick:()=>n(),children:e.jsx(l,{message:"Cancel"})}),e.jsx(N,{form:t,variant:"flat",color:"primary",type:"submit",children:e.jsx(l,{message:"Create"})})]})]})}function Jt(){const s=Q(),{watch:a,setValue:t,getValues:n}=s,{fields:r,remove:i,prepend:o,move:d}=Is({name:"tracks"}),c=(u,g)=>{var h;const m=(h=n("tracks"))==null?void 0:h.findIndex(p=>p.uploadId===u);m!=null&&t(`tracks.${m}`,ie(g,n(`tracks.${m}`)),{shouldDirty:!0})},{openFilePicker:f}=ze({onUploadStart:u=>o(ie(u,{artists:s.getValues("artists"),genres:s.getValues("genres"),tags:s.getValues("tags")})),onMetadataChange:(u,g)=>{qs(s,g),c(u.id,g)}}),j=a("tracks")||[];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx("h2",{className:"my-24 text-xl font-semibold",children:e.jsx(l,{message:"Tracks"})}),e.jsx(N,{variant:"outline",color:"primary",size:"xs",className:"ml-auto",startIcon:e.jsx(Ws,{}),onClick:()=>f(),children:e.jsx(l,{message:"Upload tracks"})}),e.jsxs(re,{type:"modal",onClose:u=>{u&&o(u)},children:[e.jsx(ne,{label:e.jsx(l,{message:"Create track"}),children:e.jsx(R,{variant:"outline",color:"primary",size:"xs",children:e.jsx(Je,{})})}),e.jsx(Zt,{hideAlbumField:!0,defaultValues:{artists:a("artists"),tags:a("tags"),genres:a("genres")}})]})]}),r.map((u,g)=>{const m=j[g];return e.jsx(Xt,{track:m,onRemove:()=>i(g),onSort:(h,p)=>d(h,p),tracks:j,onUpdate:h=>{c(m.uploadId,h)}},u.id)}),r.length?null:e.jsx(ws,{className:"mt-40",image:e.jsx(Ns,{src:Js}),title:e.jsx(l,{message:"This album does not have any tracks yet"})})]})}function Xt({track:s,tracks:a,onRemove:t,onUpdate:n,onSort:r}){const i=x.useRef(null),o=x.useRef(null),d=C(g=>g.abortUpload),c=C(g=>s.uploadId?g.fileUploads.get(s.uploadId):null),{isUploading:f,status:j}=as(s.uploadId),{sortableProps:u}=La({disabled:f,ref:i,item:s,items:a,type:"albumFormTrack",preview:o,strategy:"line",onSortEnd:(g,m)=>{r(g,m)}});return e.jsxs("div",{className:"border-b border-t border-t-transparent py-4",ref:i,...u,children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(R,{className:"mr-14 flex-shrink-0",disabled:f,children:e.jsx(Vt,{})}),e.jsx("div",{className:"flex-auto overflow-hidden overflow-ellipsis whitespace-nowrap",children:s.name}),c&&e.jsxs("div",{className:"mr-10 flex items-center",children:[e.jsx(Gs,{fileUpload:c,status:j,className:"mr-10"}),e.jsx(vs,{isIndeterminate:j==="processing",value:c.percentage,size:"sm"})]}),e.jsxs(re,{type:"modal",onClose:g=>{g&&n(g)},children:[e.jsx(ne,{label:e.jsx(l,{message:"Edit track"}),children:e.jsx(R,{className:"ml-auto flex-shrink-0 text-muted",disabled:f,children:e.jsx(es,{})})}),e.jsx(Qt,{track:s,hideAlbumField:!0})]}),e.jsxs(re,{type:"modal",onClose:g=>{g&&(s.uploadId&&d(s.uploadId),t())},children:[e.jsx(ne,{label:e.jsx(l,{message:"Remove track"}),children:e.jsx(R,{className:"flex-shrink-0 text-muted",children:e.jsx(Ke,{})})}),e.jsx(Cs,{isDanger:!0,title:e.jsx(l,{message:"Remove track"}),body:e.jsx(l,{message:"Are you sure you want to remove this track from the album?"}),confirm:e.jsx(l,{message:"Remove"})})]})]}),e.jsx(Yt,{track:s,ref:o})]})}const Yt=ps.forwardRef(({track:s},a)=>{var n,r;let t=s.name;return(n=s.artists)!=null&&n.length&&(t+=`- ${(r=s.artists)==null?void 0:r[0].name}`),e.jsx(Ea,{ref:a,children:()=>e.jsx("div",{className:"rounded bg-chip p-8 text-sm shadow",children:t})})});function ts({showExternalIdFields:s}){const{trans:a}=M(),t=We();return e.jsxs(x.Fragment,{children:[e.jsxs("div",{className:"gap-24 md:flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(De,{name:"image",diskPrefix:"album_images",label:t?e.jsx(l,{message:"Image"}):null,variant:t?"input":"square",previewSize:"md:w-full md:w-224 md:aspect-square",stretchPreview:!0})}),e.jsxs("div",{className:"mt-24 flex-auto md:mt-0",children:[e.jsx(P,{name:"name",label:e.jsx(l,{message:"Name"}),className:"mb-24",required:!0,autoFocus:!0}),e.jsx(Rt,{name:"release_date",label:e.jsx(l,{message:"Release date"}),className:"mb-24",granularity:"day"}),e.jsx(Hs,{name:"artists",className:"mb-24"}),e.jsx(le,{label:e.jsx(l,{message:"Genres"}),placeholder:a(S("+Add genre")),model:Ze,name:"genres",allowCustomValue:!0,className:"mb-24"}),e.jsx(le,{label:e.jsx(l,{message:"Tags"}),placeholder:a(S("+Add tag")),model:Ks,name:"tags",allowCustomValue:!0,className:"mb-24"}),e.jsx(P,{name:"description",label:e.jsx(l,{message:"Description"}),inputElementType:"textarea",rows:5,className:"mb-24"}),s&&e.jsx(en,{})]})]}),e.jsx(Jt,{})]})}function en(){const{spotify_is_setup:s}=Pe();return s?e.jsx(P,{name:"spotify_id",label:e.jsx(l,{message:"Spotify ID"}),className:"mb-24",minLength:22,maxLength:22}):null}const sn=x.forwardRef(({onUploadStart:s,onCancel:a,onCreate:t},n)=>{const r=As(),i=Te(),[o,d]=x.useState(!1),c=W({defaultValues:{tracks:[],artists:r?[r]:[],release_date:i.toAbsoluteString()}}),f=c.watch("tracks")||[],j=C(b=>b.abortUpload),u=!!C(b=>b.activeUploadsCount),{openFilePicker:g,uploadTracks:m,validateUploads:h}=ze({onUploadStart:b=>{d(!0),c.setValue("tracks",[...c.getValues("tracks"),b]),s()},onMetadataChange:(b,y)=>{qs(c,y),c.setValue("tracks",c.getValues("tracks").map(I=>I.uploadId===b.id?ie(y,I):I))}});x.useImperativeHandle(n,()=>({openFilePicker:g,uploadTracks:m,validateUploads:h}),[g,m,h]);const p=$s(c);return o?e.jsxs(ce,{className:"mb-30 rounded border bg-paper p-14 md:p-24",form:c,onSubmit:b=>p.mutate(b,{onSuccess:y=>{d(!1),c.reset(),t(y.album)}}),children:[e.jsx(ts,{showExternalIdFields:!1}),e.jsxs("div",{className:"mt-24",children:[e.jsx(N,{variant:"text",onClick:()=>{f.forEach(b=>{j(b.uploadId)}),c.reset(),d(!1),a()},className:"mr-10",children:e.jsx(l,{message:"Cancel"})}),e.jsx(N,{type:"submit",variant:"flat",color:"primary",disabled:u||p.isPending,children:e.jsx(l,{message:"Save"})})]})]}):null}),an=x.forwardRef(({onUploadStart:s,onCancel:a,onCreate:t},n)=>{const r=As(),i=C(u=>u.abortUpload),[o,d]=x.useState([]),{openFilePicker:c,uploadTracks:f,validateUploads:j}=ze({onUploadStart:u=>{d(g=>r?[...g,{...u,artists:[r]}]:[...g,u]),s()},onMetadataChange:(u,g)=>{d(m=>m.map(h=>h.uploadId===u.id?ie(g,h):h))}});return x.useImperativeHandle(n,()=>({openFilePicker:c,uploadTracks:f,validateUploads:j}),[c,f,j]),e.jsx("div",{className:"w-full",children:o.map(u=>e.jsx(tn,{track:u,onCreate:g=>{d(m=>m.filter(h=>h.uploadId!==u.uploadId)),t(g)},onRemove:()=>{d(g=>{const m=g.filter(h=>h.uploadId!==u.uploadId);return m.length||a(),m}),i(u.uploadId)}},u.uploadId))})}),tn=x.memo(({track:s,onRemove:a,onCreate:t})=>{const n=W({defaultValues:s}),r=_s(n),i=C(f=>f.fileUploads.get(s.uploadId)),{isUploading:o,status:d}=as(s.uploadId);x.useEffect(()=>{n.reset(s)},[s,n]);const c=o&&i?e.jsx(Zs,{fileUpload:i,status:d}):null;return e.jsxs(ce,{form:n,onSubmit:f=>{r.mutate(f,{onSuccess:j=>t(j.track)})},className:"mb-30 rounded border bg-paper p-14 md:p-24",children:[e.jsx(ue,{uploadButton:c,showExternalIdFields:!1}),e.jsx(N,{variant:"text",onClick:()=>a(),className:"mr-10",children:e.jsx(l,{message:"Cancel"})}),e.jsx(N,{type:"submit",variant:"flat",color:"primary",disabled:r.isPending||!n.watch("src"),children:e.jsx(l,{message:"Save"})})]})}),nn=""+new URL("album-border-b5dd7d9f.png",import.meta.url).href;function rn({media:s}){var n,r;const a=s.model_type===Ra,t=a?we(s,{absolute:!0}):Ne(s,{absolute:!0});return e.jsxs("div",{className:"mx-auto my-20 flex w-780 max-w-full items-center gap-28 rounded border bg-paper p-20",children:[e.jsxs("div",{className:D(a&&"relative isolate mx-18 my-14"),children:[a?e.jsx(Ue,{album:s,className:"relative z-20 flex-shrink-0 rounded",size:"w-132 h-132"}):e.jsx(Xe,{track:s,className:"relative z-20 flex-shrink-0 rounded",size:"w-132 h-132"}),a&&e.jsx("img",{className:"absolute -left-14 -top-14 z-10 block h-160 w-160 max-w-160",src:nn,alt:""})]}),e.jsxs("div",{className:"flex-auto",children:[e.jsx("div",{className:"text-base font-bold",children:s.name}),e.jsx("div",{className:"mb-14 text-sm text-muted",children:e.jsx(Me,{artists:s.artists})}),(n=s.genres)!=null&&n.length?e.jsx(Fs,{selectable:!1,size:"sm",className:"mb-14",children:(r=s.genres)==null?void 0:r.map(i=>e.jsx(bs,{children:i.display_name||i.name},i.id))}):null,e.jsx("div",{className:"text-sm",children:e.jsx(l,{message:"Upload complete. <a>Go to your track</a>",values:{a:i=>e.jsx(O,{className:Ss,to:a?we(s):Ne(s),children:i})}})})]}),e.jsx("div",{className:"max-w-300 ml-auto flex-auto",children:e.jsxs("div",{className:"text-sm text-muted",children:[e.jsx(l,{message:"Share your new track"}),e.jsx(_a,{name:s.name,image:s.image,link:t}),e.jsx(wa,{value:t,readOnly:!0,className:"mt-24 w-full",size:"sm",onClick:i=>{i.target.select()}})]})})]})}function ln({isVisible:s}){const a=e.jsx(G.div,{...$e,transition:{duration:.3},className:"pointer-events-none absolute inset-0 min-h-full w-full border-2 border-dashed border-primary bg-primary-light/30",children:e.jsx(G.div,{initial:{y:"100%",opacity:0},animate:{y:"-10px",opacity:1},exit:{y:"100%",opacity:0},className:"fixed bottom-0 left-0 right-0 mx-auto max-w-max rounded bg-primary p-10 text-on-primary",children:e.jsx(l,{message:"Drop your files anywhere on the page to upload"})})},"dragTargetMask");return e.jsx(Fe,{children:s?a:null})}function on(){const{user:s}=Na();s!=null&&s.id&&J.resetQueries({queryKey:["minutesLimit",s.id]})}function cn(){const{user:s}=Ca(),a=s==null?void 0:s.id;return K({queryKey:["minutesLimit",a],queryFn:()=>dn(a),enabled:a!=null})}function dn(s){return T.get(`users/${s}/minutes-left`).then(a=>a.data)}function un({backstageLayout:s=!1}){return e.jsx(X,{children:e.jsx(mn,{backstageLayout:s})})}function mn({backstageLayout:s}){const[a,t]=x.useState("tracks"),[n,r]=x.useState(!1),i=x.useRef(null),o=a==="tracks"?an:sn,[d,c]=x.useState([]),f=x.useRef(null),[j,u]=x.useState(!1),{droppableProps:g}=Va({id:"uploadPageRoot",ref:f,types:["nativeFile"],onDragEnter:()=>u(!0),onDragLeave:()=>u(!1),onDrop:async h=>{var p,b;if(h.type==="nativeFile"){const y=await h.getData(),I=(p=i.current)==null?void 0:p.validateUploads(y);I!=null&&I.length&&((b=i.current)==null||b.uploadTracks(I))}}}),m=s?ee:gn;return e.jsxs(m,{...g,children:[!n&&e.jsx(xn,{onUpload:()=>{var h;return(h=i.current)==null?void 0:h.openFilePicker()},uploadMode:a,onUploadModeChange:t}),d.map(h=>e.jsx(rn,{media:h},h.id)),e.jsx(o,{ref:i,onUploadStart:()=>r(!0),onCreate:h=>{c(p=>[...p,h]),on()},onCancel:()=>{r(!1)}}),e.jsx(ln,{isVisible:j})]})}function xn({onUpload:s,uploadMode:a,onUploadModeChange:t}){const{data:n}=cn();return e.jsxs("div",{className:"pt-40",children:[e.jsxs("div",{className:"mx-auto flex max-w-580 flex-col items-center rounded border bg-paper p-20 md:p-48",children:[e.jsx("h1",{className:"text-base md:text-[22px] md:font-light",children:e.jsx(l,{message:"Drag and drop your tracks, videos & albums here."})}),e.jsx(N,{variant:"flat",color:"primary",className:"mt-20 w-min",onClick:()=>s(),children:e.jsx(l,{message:"Or choose files to upload"})}),e.jsx("div",{className:"mt-20 border-t pt-20",children:e.jsx(Ua,{checked:a==="album",onChange:r=>t(r.target.checked?"album":"tracks"),children:e.jsx(l,{message:"Make an album when multiple files are selected"})})})]}),e.jsx("div",{className:"mt-20 min-h-20 text-center text-sm text-muted",children:(n==null?void 0:n.minutesLeft)!=null&&e.jsx(l,{message:"You have :count minutes left. Try <a>Pro accounts</a> to get more time and access to advanced features.",values:{count:n.minutesLeft,a:r=>e.jsx(O,{className:Ss,to:"/pricing",children:r})}})})]})}function gn({children:s,...a}){return e.jsx("div",{...a,className:"relative min-h-full",children:e.jsx("div",{className:"container mx-auto p-14 md:p-24",children:s})})}function tr(){return e.jsx(un,{backstageLayout:!0})}function ns({children:s,reportModel:a,title:t,isNested:n}){const[r,i]=x.useState(()=>it[2].getRangeValue());return e.jsxs(x.Fragment,{children:[e.jsx(Sa,{children:e.jsx(l,{message:"Insights"})}),e.jsxs("div",{className:"flex h-full flex-col",children:[!n&&e.jsx(gs,{className:"flex-shrink-0",color:"bg",darkModeColor:"bg"}),e.jsx("div",{className:"relative flex-auto overflow-y-auto bg-cover",children:e.jsxs("div",{className:"mx-auto flex min-h-full max-w-[1600px] flex-col overflow-x-hidden p-12 md:p-24",children:[e.jsxs("div",{className:"flex-auto",children:[e.jsxs("div",{className:"mb-38 mt-14 h-48 items-center justify-between gap-24 md:flex",children:[t||e.jsx(te,{className:"max-w-320"}),e.jsx("div",{className:"flex flex-shrink-0 items-center justify-between gap-10 md:gap-24",children:e.jsx(lt,{value:r,onChange:i})})]}),x.cloneElement(s,{dateRange:r,model:a})]}),!n&&e.jsx(fs,{})]})})]})]})}const xs="reports/insights";function fn(s,a){return K({queryKey:[xs,s],queryFn:()=>hn(xs,s),placeholderData:a.isEnabled?Ce:void 0,enabled:a.isEnabled})}function hn(s,a){var n;const t={model:a.model,metrics:(n=a.metrics)==null?void 0:n.join(",")};return t.startDate=a.dateRange.start.toAbsoluteString(),t.endDate=a.dateRange.end.toAbsoluteString(),t.timezone=a.dateRange.start.timeZone,T.get(s,{params:t}).then(r=>r.data)}const pn=Se(e.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");function ye({data:s,isLoading:a,...t}){const n=(s==null?void 0:s.datasets[0].data)||[];return e.jsxs(ot,{...t,contentIsFlex:a,className:"col-span-6 row-span-11 overflow-y-auto overflow-x-hidden",children:[a&&e.jsx(ct,{}),n.map(r=>e.jsxs("div",{className:"mb-20 flex items-center justify-between gap-24 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx(jn,{model:r.model,size:"w-42 h-42",className:"flex-shrink-0 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:e.jsx(bn,{model:r.model})}),e.jsx("div",{className:"text-xs text-muted",children:e.jsx(vn,{model:r.model})})]})]}),e.jsxs("div",{className:"flex flex-shrink-0 items-center gap-4",children:[e.jsx($a,{className:"text-muted",size:"sm"}),e.jsx(l,{message:":count plays",values:{count:e.jsx(Ie,{value:r.value})}})]})]},r.model.id)),!a&&!n.length?e.jsxs("div",{className:"flex items-center gap-8 text-muted",children:[e.jsx(pn,{size:"sm"}),e.jsx(l,{message:"No plays in selected timeframe."})]}):null]})}function jn({model:s,size:a,className:t}){const{pathname:n}=Y(),i=n.includes("/admin")?`/admin/${s.model_type}s/${s.id}/insights`:`/backstage/${s.model_type}s/${s.id}/insights`;switch(s.model_type){case"artist":return e.jsx(O,{to:i,children:e.jsx(Ps,{artist:s,size:a,className:t})});case"album":return e.jsx(O,{to:i,children:e.jsx(Ue,{album:s,size:a,className:t})});case"track":return e.jsx(O,{to:i,children:e.jsx(Xe,{track:s,size:a,className:t})});case"user":return e.jsx(Fa,{user:s,size:a,className:t})}}function bn({model:s}){switch(s.model_type){case"artist":return e.jsx(Ts,{artist:s,target:"_blank"});case"album":return e.jsx(Ye,{album:s,target:"_blank"});case"track":return e.jsx(Ds,{track:s,target:"_blank"});case"user":return s.id?e.jsx(Aa,{user:s,target:"_blank"}):e.jsx(x.Fragment,{children:s.name})}}function vn({model:s}){switch(s.model_type){case"artist":case"user":return null;case"album":case"track":return e.jsx(Me,{artists:s.artists,target:"_blank"})}}function rs(s){const a=s.model,t=s.dateRange;return e.jsxs("div",{className:"chart-grid",children:[e.jsx(L,{metric:"plays",model:a,dateRange:t,children:({data:n})=>e.jsx(dt,{colSpan:"col-span-8",title:e.jsx(l,{message:"Plays"}),hideLegend:!0,description:e.jsx(l,{message:":count total plays",values:{count:e.jsx(Ie,{value:(n==null?void 0:n.report.plays.total)||0})}})})}),e.jsx(L,{metric:"devices",model:a,dateRange:t,children:e.jsx(us,{colSpan:"col-span-4",title:e.jsx(l,{message:"Top devices"})})}),s.showTracks&&e.jsx(L,{metric:"tracks",model:a,dateRange:t,children:e.jsx(ye,{title:e.jsx(l,{message:"Most played tracks"})})}),e.jsx(L,{metric:"users",model:a,dateRange:t,children:e.jsx(ye,{title:e.jsx(l,{message:"Top listeners"})})}),s.showArtistsAndAlbums&&e.jsxs(x.Fragment,{children:[e.jsx(L,{metric:"artists",model:a,dateRange:t,children:e.jsx(ye,{title:e.jsx(l,{message:"Most played artists"})})}),e.jsx(L,{metric:"albums",model:a,dateRange:t,children:e.jsx(ye,{title:e.jsx(l,{message:"Most played albums"})})})]}),e.jsx(L,{metric:"locations",model:a,dateRange:t,children:e.jsx(ut,{})}),e.jsx(L,{metric:"platforms",model:a,dateRange:t,children:e.jsx(us,{colSpan:"col-span-5",title:e.jsx(l,{message:"Top platforms"})})})]})}function L({children:s,metric:a,model:t,dateRange:n}){var j,u;const[r,i]=x.useState(!1),o=fn({metrics:[a],model:t,dateRange:n},{isEnabled:r}),d=typeof s=="function"?s(o):s,c=x.useRef(),f=x.useCallback(g=>{var m;if(g){const h=new IntersectionObserver(([p])=>{var b;p.isIntersecting&&(i(!0),(b=c.current)==null||b.disconnect(),c.current=void 0)},{threshold:.1});c.current=h,h.observe(g)}else c.current&&((m=c.current)==null||m.disconnect())},[]);return x.cloneElement(d,{data:(u=(j=o.data)==null?void 0:j.report)==null?void 0:u[a],isLoading:o.isLoading,contentRef:f})}function is({image:s,name:a,description:t}){return e.jsxs("div",{className:"flex items-center gap-10",children:[x.cloneElement(s,{size:"w-48 h-48",className:"rounded"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-base",children:["“",a,"“ ",e.jsx(l,{message:"insights"})]}),t&&e.jsx("div",{className:"text-sm text-muted",children:t})]})]})}function yn({isNested:s}){const{artistId:a}=Ae(),{data:t}=Us({loader:"artist"});return e.jsx(ns,{reportModel:`artist=${a}`,title:(t==null?void 0:t.artist)&&e.jsx(is,{image:e.jsx(Ps,{artist:t.artist}),name:e.jsx(Ts,{artist:t.artist})}),isNested:s,children:e.jsx(rs,{showTracks:!0})})}function nr(){return e.jsx(yn,{isNested:!0})}function kn({isNested:s}){const{albumId:a}=Ae(),{data:t}=Ms({loader:"album"});return e.jsx(ns,{reportModel:`album=${a}`,title:(t==null?void 0:t.album)&&e.jsx(is,{image:e.jsx(Ue,{album:t.album}),name:e.jsx(Ye,{album:t.album}),description:e.jsx(Me,{artists:t.album.artists})}),isNested:s,children:e.jsx(rs,{showTracks:!0})})}function rr(){return e.jsx(kn,{isNested:!0})}function In({isNested:s}){const{trackId:a}=Ae(),{data:t}=zs({loader:"track"});return e.jsx(ns,{reportModel:`track=${a}`,title:(t==null?void 0:t.track)&&e.jsx(is,{image:e.jsx(Xe,{track:t.track}),name:e.jsx(Ds,{track:t.track}),description:e.jsx(Me,{artists:t.track.artists})}),isNested:s,children:e.jsx(rs,{})})}function ir(){return e.jsx(In,{isNested:!0})}function wn(){const[s,a]=x.useState(!1),t=x.useRef(),n=x.useCallback(r=>{var i;if(r){const o=new IntersectionObserver(([d])=>a(d.intersectionRatio<1),{threshold:[1]});t.current=o,o.observe(r)}else t.current&&((i=t.current)==null||i.disconnect())},[]);return{isSticky:s,sentinelRef:n}}function me({onSubmit:s,form:a,title:t,subTitle:n,children:r,actions:i,backButton:o,isLoading:d=!1,disableSaveWhenNotDirty:c=!1,wrapInContainer:f=!0,submitButtonText:j,variant:u="sticky"}){const{isSticky:g,sentinelRef:m}=wn(),h=c?Object.keys(a.formState.dirtyFields).length:!0,p=e.jsx(N,{variant:"flat",color:"primary",type:"submit",disabled:d||!h,children:j??e.jsx(l,{message:"Save"})});return e.jsxs(ce,{onSubmit:s,onBeforeSubmit:()=>a.clearErrors(),form:a,className:"relative",children:[u==="sticky"&&e.jsx("div",{ref:m}),e.jsx(Nn,{wrapInContainer:f,startActions:o,subTitle:n,endActions:e.jsxs(x.Fragment,{children:[i,u==="sticky"&&p]}),className:D(g&&"bg shadow",u==="sticky"&&"sticky"),children:t}),e.jsx("div",{className:f?"container mx-auto px-24 pb-24":void 0,children:e.jsx("div",{className:"rounded",children:r})}),u==="popup"&&e.jsx(Cn,{saveButton:p,isLoading:d})]})}function Nn({className:s,wrapInContainer:a,children:t,subTitle:n,startActions:r,endActions:i}){return e.jsx("div",{className:D("top-0 z-10 my-12 transition-shadow md:my-24",s),children:e.jsxs("div",{className:D("flex items-center gap-24 py-14 md:items-start",a&&"container mx-auto px-24"),children:[r,e.jsxs("div",{className:"flex-auto overflow-hidden overflow-ellipsis md:mr-64",children:[e.jsx("h1",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-xl md:text-3xl",children:t}),n&&e.jsx("div",{className:"mt-4",children:n})]}),e.jsx("div",{className:"mr-auto"}),i]})})}function lr({label:s,children:a,margin:t="mb-48",labelMargin:n="mb-16"}){return e.jsxs("section",{className:D(t),children:[e.jsx("div",{className:D(n,"text-lg font-semibold"),children:s}),a]})}function Cn({saveButton:s,isLoading:a}){const{formState:t,reset:n}=Q();return e.jsx(Fe,{children:t.isDirty&&e.jsxs(x.Fragment,{children:[e.jsx("div",{className:"invisible h-92"}),e.jsxs(G.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{duration:.2},className:"fixed bottom-0 left-0 right-0 z-20 flex items-center justify-center gap-16 border-t bg px-12 py-28 shadow-[rgba(0,0,0,0.2)_0px_0px_10px]",children:[e.jsx(N,{variant:"outline",onClick:()=>n(),children:e.jsx(l,{message:"Cancel"})}),s??e.jsx(N,{variant:"flat",color:"primary",type:"submit",disabled:a,children:e.jsx(l,{message:"Save changes"})})]},"dirty-panel")]})})}function Sn({wrapInContainer:s}){const a=de(),{pathname:t}=Y(),{form:n,createTrack:r}=Xs({onTrackCreated:i=>{t.includes("admin")?a(`/admin/tracks/${i.track.id}/edit`):a(Ne(i.track))}});return e.jsx(me,{form:n,onSubmit:i=>{r.mutate(i)},title:e.jsx(l,{message:"Add new track"}),isLoading:r.isPending,disableSaveWhenNotDirty:!0,wrapInContainer:s,children:e.jsx(X,{children:e.jsx(ue,{showExternalIdFields:!0})})})}function or(){return e.jsx(ee,{children:e.jsx(Sn,{})})}function Fn({wrapInContainer:s}){const a=zs({loader:"editTrackPage"});return a.data?e.jsx(An,{track:a.data.track,wrapInContainer:s}):e.jsx(Ge,{query:a,loaderClassName:"absolute inset-0 m-auto",loaderIsScreen:!1})}function An({track:s,wrapInContainer:a}){const{canEdit:t}=Ba([s]),n=de(),{pathname:r}=Y(),{form:i,updateTrack:o}=Qs(s,{onTrackUpdated:d=>{r.includes("admin")?n("/admin/tracks"):n(Ne(d.track))}});return t?e.jsx(me,{form:i,onSubmit:d=>{o.mutate(d)},title:e.jsx(l,{message:"Edit “:name“ track",values:{name:s.name}}),isLoading:o.isPending,disableSaveWhenNotDirty:!0,wrapInContainer:a,children:e.jsx(X,{children:e.jsx(ue,{showExternalIdFields:!0})})}):e.jsx(Qe,{to:"/",replace:!0})}function cr(){return e.jsx(ee,{children:e.jsx(Fn,{})})}function Pn({wrapInContainer:s}){return e.jsx(X,{children:e.jsx(Dn,{wrapInContainer:s})})}function Dn({wrapInContainer:s}){const a=!!C(j=>j.activeUploadsCount),t=Te(),n=de(),{pathname:r}=Y(),[i]=Pa(),{data:o}=Ls(`normalized-models/artist/${i.get("artistId")}`,void 0,{enabled:!!i.get("artistId")}),d=o==null?void 0:o.model,c=W({defaultValues:{release_date:t.toAbsoluteString()}}),f=$s(c);return x.useEffect(()=>{d&&c.reset({artists:[d]})},[d,c]),e.jsx(me,{form:c,onSubmit:j=>{f.mutate(j,{onSuccess:u=>{r.includes("admin")?n(d?`/admin/artists/${d.id}/edit`:"/admin/albums"):n(we(u.album))}})},title:e.jsx(l,{message:"Add new album"}),isLoading:f.isPending||a,disableSaveWhenNotDirty:!0,wrapInContainer:s,children:e.jsx(ts,{showExternalIdFields:!0})})}function dr(){return e.jsx(ee,{children:e.jsx(Pn,{wrapInContainer:!1})})}const Tn=s=>`albums/${s}`;function Un(s,a){const{trans:t}=M(),n=de(),{pathname:r}=Y();return Z({mutationFn:i=>Mn(a,i),onSuccess:i=>{H(t(S("Album updated"))),J.invalidateQueries({queryKey:se("albums")}),r.includes("admin")?n("/admin/albums"):n(we(i.album))},onError:i=>oe(i,s)})}function Mn(s,a){return T.put(Tn(s),Bs(a)).then(t=>t.data)}function zn({wrapInContainer:s}){const a=Ms({loader:"editAlbumPage"});return a.data?e.jsx(X,{children:e.jsx(En,{album:a.data.album,wrapInContainer:s})}):e.jsx(Ge,{query:a,loaderIsScreen:!1,loaderClassName:"absolute inset-0 m-auto"})}function En({album:s,wrapInContainer:a}){const{canEdit:t}=qa(s),n=!!C(o=>o.activeUploadsCount),r=W({defaultValues:{image:s.image,name:s.name,release_date:s.release_date,artists:s.artists,genres:s.genres,tags:s.tags,description:s.description,spotify_id:s.spotify_id,tracks:s.tracks}}),i=Un(r,s.id);return t?e.jsx(me,{form:r,onSubmit:o=>{i.mutate(o)},title:e.jsx(l,{message:"Edit “:name“ album",values:{name:s.name}}),isLoading:i.isPending||n,disableSaveWhenNotDirty:!0,wrapInContainer:a,children:e.jsx(ts,{showExternalIdFields:!0})}):e.jsx(Qe,{to:"/",replace:!0})}function ur(){return e.jsx(ee,{children:e.jsx(zn,{wrapInContainer:!1})})}const Ln=s=>`artists/${s}`;function Rn(s){const{trans:a}=M(),t=de(),{pathname:n}=Y();return Z({mutationFn:r=>_n(r),onSuccess:r=>{H(a(S("Artist updated"))),J.invalidateQueries({queryKey:se("artists")}),n.includes("admin")?t("/admin/artists"):t(Oa(r.artist))},onError:r=>oe(r,s)})}function _n({id:s,...a}){return T.put(Ln(s),a).then(t=>t.data)}const Vn=[{key:"name",allowsSorting:!0,header:()=>e.jsx(l,{message:"Name"}),visibleInMode:"all",width:"flex-3",body:s=>e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx(Ue,{album:s,className:"flex-shrink-0",size:"w-34 h-34 rounded"}),e.jsx(Ye,{album:s,target:"_blank"})]})},{key:"release_date",allowsSorting:!0,header:()=>e.jsx(l,{message:"Release date"}),body:s=>s.release_date?e.jsx(Da,{date:s.release_date}):null},{key:"track_count",allowsSorting:!1,header:()=>e.jsx(l,{message:"Track count"}),body:s=>s.tracks_count?e.jsx(Ie,{value:s.tracks_count}):null},{key:"plays",allowsSorting:!0,header:()=>e.jsx(l,{message:"Plays"}),body:s=>s.plays?e.jsx(Ie,{value:s.plays}):null},{key:"actions",header:()=>e.jsx(l,{message:"Actions"}),width:"w-84 flex-shrink-0",visibleInMode:"all",hideHeader:!0,align:"end",body:s=>e.jsx(Bn,{album:s})}];function $n({albums:s=[]}){const{watch:a}=Q(),t=a("id"),{data:n,sortDescriptor:r,onSortChange:i}=Ha(s);return e.jsxs("div",{children:[e.jsxs("div",{className:"my-24",children:[e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx("h2",{className:"text-xl font-semibold",children:e.jsx(l,{message:"Albums"})}),e.jsx(N,{variant:"outline",color:"primary",size:"xs",className:"ml-auto",startIcon:e.jsx(Je,{}),elementType:t?O:void 0,to:`../../../albums/new?artistId=${t}`,relative:"path",disabled:!t,children:e.jsx(l,{message:"Add album"})})]}),!t&&e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsx(mt,{viewBox:"0 0 16 16",size:"xs",className:"text-muted"}),e.jsx(l,{message:"Save changes to enable album creation."})]})]}),e.jsx(Ka,{columns:Vn,data:s,sortDescriptor:r,onSortChange:i,enableSelection:!1}),n.length?null:e.jsx(ws,{className:"mt-40",image:e.jsx(Ns,{src:Js}),title:e.jsx(l,{message:"This artist does not have any albums yet"})})]})}function Bn({album:s}){const a=Wa();return e.jsxs("div",{className:"text-muted",children:[e.jsx(O,{to:`../../../albums/${s.id}/edit`,relative:"path",children:e.jsx(R,{size:"md",children:e.jsx(es,{})})}),e.jsxs(re,{type:"modal",onClose:t=>{t&&a.mutate({albumId:s.id})},children:[e.jsx(R,{size:"md",disabled:a.isPending,children:e.jsx(Ke,{})}),e.jsx(Cs,{isDanger:!0,title:e.jsx(l,{message:"Delete album"}),body:e.jsx(l,{message:"Are you sure you want to delete this album?"}),confirm:e.jsx(l,{message:"Delete"})})]})]})}function qn({albums:s,showExternalFields:a}){const t=We();return e.jsxs(X,{children:[e.jsxs("div",{className:"gap-24 md:flex",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx(De,{name:"image_small",diskPrefix:"artist_images",label:t?e.jsx(l,{message:"Image"}):null,variant:t?"input":"square",previewSize:t?void 0:"w-full md:w-224 aspect-square",stretchPreview:!0}),a&&e.jsx(Ma,{name:"verified",className:"mt-14",children:e.jsx(l,{message:"Verified"})})]}),e.jsx("div",{className:"mt-24 flex-auto md:mt-0",children:e.jsxs(Ga,{isLazy:!0,children:[e.jsxs(Qa,{children:[e.jsx(je,{children:e.jsx(l,{message:"Details"})}),e.jsx(je,{children:e.jsx(l,{message:"Links"})}),e.jsx(je,{children:e.jsx(l,{message:"Biography"})}),e.jsx(je,{children:e.jsx(l,{message:"Images"})})]}),e.jsxs(Za,{className:"pt-20",children:[e.jsx(be,{children:e.jsx(On,{showExternalFields:a})}),e.jsx(be,{children:e.jsx(Ja,{})}),e.jsx(be,{children:e.jsx(Hn,{})}),e.jsx(be,{children:e.jsx(Kn,{})})]})]})})]}),e.jsx($n,{albums:s})]})}function On({showExternalFields:s}){const{trans:a}=M();return e.jsxs(x.Fragment,{children:[e.jsx(P,{name:"name",label:e.jsx(l,{message:"Name"}),className:"mb-24",required:!0,autoFocus:!0,disabled:!s}),e.jsx(le,{label:e.jsx(l,{message:"Genres"}),placeholder:a(S("+Add genre")),model:Ze,name:"genres",allowCustomValue:!0,className:"mb-24"}),s&&e.jsx(Wn,{})]})}function Hn(){return e.jsxs(x.Fragment,{children:[e.jsx(P,{name:"profile.country",label:e.jsx(l,{message:"Country"}),className:"mb-24"}),e.jsx(P,{name:"profile.city",label:e.jsx(l,{message:"City"}),className:"mb-24"}),e.jsx(P,{inputElementType:"textarea",rows:5,name:"profile.description",label:e.jsx(l,{message:"Description"}),className:"mb-24"})]})}function Kn(){const{fields:s,append:a,remove:t}=Is({name:"profile_images"});return e.jsxs("div",{children:[e.jsx("div",{className:"mb-24 flex flex-wrap gap-12",children:s.map((n,r)=>e.jsx(De,{name:`profile_images.${r}.url`,diskPrefix:"artist_images",variant:"square",previewSize:"w-160 h-160",stretchPreview:!0,showRemoveButton:!0,onChange:i=>{i||t(r)}},n.id))}),e.jsx(N,{variant:"outline",color:"primary",startIcon:e.jsx(Je,{}),onClick:()=>{a({url:""})},children:e.jsx(l,{message:"Add another image"})})]})}function Wn(){const{spotify_is_setup:s}=Pe();return s?e.jsx(P,{name:"spotify_id",label:e.jsx(l,{message:"Spotify ID"}),className:"mb-24",minLength:22,maxLength:22}):null}function Ys({wrapInContainer:s,showExternalFields:a}){const t=Us({loader:"editArtistPage"});return t.data?e.jsx(Gn,{response:t.data,wrapInContainer:s,showExternalFields:a}):e.jsx(Ge,{query:t,loaderClassName:"absolute inset-0 m-auto"})}function Gn({response:s,wrapInContainer:a,showExternalFields:t}){var o;const{canEdit:n}=Xa(s.artist),r=W({defaultValues:{id:s.artist.id,name:s.artist.name,verified:s.artist.verified,spotify_id:s.artist.spotify_id,genres:s.artist.genres,image_small:s.artist.image_small,links:s.artist.links,profile:s.artist.profile,profile_images:s.artist.profile_images}}),i=Rn(r);return n?e.jsx(me,{form:r,onSubmit:d=>{i.mutate(d)},title:e.jsx(l,{message:"Edit “:name“ artist",values:{name:s.artist.name}}),isLoading:i.isPending,disableSaveWhenNotDirty:!0,wrapInContainer:a,children:e.jsx(qn,{albums:(o=s.albums)==null?void 0:o.data,showExternalFields:t})}):e.jsx(Qe,{to:"/",replace:!0})}function mr(){return e.jsx(ee,{children:e.jsx(Ys,{wrapInContainer:!1,showExternalFields:!1})})}function xr(){return e.jsx(Ys,{showExternalFields:!0})}export{zn as A,ee as B,Ut as C,se as D,un as E,yt as F,Pn as G,xr as H,pn as I,rr as J,ir as K,Ws as L,nr as N,Fn as U,sr as a,tr as b,yn as c,kn as d,In as e,or as f,cr as g,dr as h,ur as i,mr as j,Os as k,Ls as l,er as m,Rt as n,Nn as o,Es as p,me as q,wn as r,lr as s,Cn as t,ar as u,Js as v,qn as w,rs as x,Vt as y,Sn as z};
//# sourceMappingURL=update-artist-page-ad1dc7e9.js.map
