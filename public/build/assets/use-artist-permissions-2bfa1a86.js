import{l as X,j as u,h as k,r as m,as as z,R as Ee,b as ve,cU as _e,aY as Te,cV as Ie,cS as we,bc as Ce,aA as Ye,ak as se,x as Q,L as fe,aj as te,ab as U,T as W,C as G,y as Ge,v as We,w as Pe,V as Xe,au as me,aa as ge,k as ae,cm as Qe,cW as be,cX as Je,a8 as Ze,an as Ne,cJ as q,ay as et,bW as $e,$ as tt,a0 as nt,bT as ce,aF as rt,aB as st,aJ as at,J as ot,K as it,i as lt,q as oe,ac as ct,bg as Re,bh as ut,bU as dt,c2 as ft,Q as ye,D as mt,B as gt}from"./main-41809f72.js";function vn(){var n;const{user:e}=X();return(n=e==null?void 0:e.artists)==null?void 0:n.find(t=>t.role==="artist")}const ue=1240,ne=45,de=3,bt=.5;function wn(e){const n=new window.AudioContext;return new Promise((t,r)=>{const s=document.createElement("canvas"),a=s.getContext("2d");if(!a){r();return}s.width=ue,s.height=ne;const o=new FileReader;o.onload=i=>{var l;const d=(l=i.target)==null?void 0:l.result;d?n.decodeAudioData(d,c=>{const w=ht(c,a);t(w)},()=>t(null)):r()},o.readAsArrayBuffer(e)})}function ht(e,n){const t=[],r=e.getChannelData(0),s=ue,a=Math.floor(r.length/s),o=ne,i=[];for(let d=0;d<s;d+=de)i.push(Ae(d*a,a,r)*1e4);for(let d=0;d<s;d+=de){const l=o/Math.max(...i);let c=Ae(d*a,a,r)*1e4;c*=l,c+=1,t.push(xt(d,c))}return n.clearRect(0,0,ue,ne),t}function Ae(e,n,t){let r=0;for(let s=e;s<=e+n-1;s++)r+=Math.pow(t[s],2);return Math.sqrt(r/t.length)}function xt(e,n){let t=de;t*=Math.abs(1-bt);const r=e+t/2,s=ne-n;return[r,s,t,n]}function yn({className:e,children:n,size:t,color:r,radius:s,selectable:a,wrap:o=!0,startButton:i}){return u.jsxs("div",{className:k("flex items-center gap-8",o&&"flex-wrap",e),children:[i,m.Children.map(n,d=>{if(m.isValidElement(d))return m.cloneElement(d,{size:t,color:r,selectable:a,radius:s})})]})}const An="genre",pt=z(u.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined"),Dn=Ee.forwardRef((e,n)=>{const t=e.children,[r,s]=m.useState(null),a=m.useRef(null);return m.useImperativeHandle(n,()=>(o,i)=>{ve.flushSync(()=>{s(t(o))}),i(a.current),requestAnimationFrame(()=>{s(null)})},[t]),r?ve.createPortal(u.jsx("div",{style:{zIndex:-100,position:"absolute",top:0,left:-1e5},ref:a,children:r}),_e):null}),F=new Map,$=new Map,vt=new Map,R={status:"inactive"};function ie({e,rect:n,deltaX:t,deltaY:r}){return{rect:n,x:e.clientX,y:e.clientY,deltaX:t??0,deltaY:r??0,nativeEvent:e}}let Le=null;function De(e){Le=e}function wt(e){return{left:e.left,top:e.top,width:e.width,height:e.height}}function Oe(e){const n=new IntersectionObserver(t=>{t.forEach(r=>{const{width:s,height:a,left:o,top:i}=r.boundingClientRect,[d,l]=[...e].find(([,w])=>w.ref.current===r.target)||[];if(d==null||l==null)return;const c={width:s,height:a,left:o,top:i};e.set(d,{...l,rect:c})}),n.disconnect()});[...e.values()].forEach(t=>{t.ref.current&&n.observe(t.ref.current)})}function yt({id:e,disabled:n,ref:t,preview:r,hidePreview:s,...a}){const o=m.useRef(null),{addGlobalListener:i,removeAllGlobalListeners:d}=Te(),l=m.useRef({lastPosition:{x:0,y:0}}).current,c=m.useRef(a);c.current=a,m.useLayoutEffect(()=>(n?F.delete(e):F.set(e,{...F.get(e),id:e,ref:t,type:c.current.type,getData:c.current.getData}),()=>{F.delete(e)}),[e,n,c,t]);const w=h=>{vt.forEach(f=>{var p;f.type===((p=F.get(e))==null?void 0:p.type)&&h(f)})},b=h=>{var C,I;const f=F.get(e),p=t.current,D=!o.current||!l.clickedEl||o.current.contains(l.clickedEl);if(Le||!p||!f||!D){h.preventDefault(),h.stopPropagation();return}Oe($),De("drag"),s&&At(h),h.dataTransfer.effectAllowed="move",l.lastPosition={x:h.clientX,y:h.clientY},l.currentRect=wt(p.getBoundingClientRect());const T=ie({rect:l.currentRect,e:h});r!=null&&r.current&&r.current(f,P=>{h.dataTransfer.setDragImage(P,0,0)}),R.status="dragging",R.dragTargetId=e,t.current&&(t.current.dataset.dragging="true"),(I=(C=c.current).onDragStart)==null||I.call(C,T,f),requestAnimationFrame(()=>{w(P=>{var L;return(L=P.onDragStart)==null?void 0:L.call(P,T,f)})}),i(window,"dragover",g,!0)},g=h=>{var I,P;if(h.preventDefault(),!l.currentRect)return;const f=h.clientX-l.lastPosition.x,p=h.clientY-l.lastPosition.y,D={...l.currentRect,left:l.currentRect.left+f,top:l.currentRect.top+p},T=ie({rect:D,e:h,deltaX:f,deltaY:p}),C=F.get(e);C&&((P=(I=c.current).onDragMove)==null||P.call(I,T,C),w(L=>{var B;return(B=L.onDragMove)==null?void 0:B.call(L,T,C)})),l.lastPosition={x:h.clientX,y:h.clientY},l.currentRect=D};return{draggableProps:{draggable:!n,onDragStart:b,onDragEnd:h=>{var D,T;if(d(),!l.currentRect)return;De(null),V&&V.remove();const f=ie({rect:l.currentRect,e:h}),p=F.get(e);p&&((T=(D=c.current).onDragEnd)==null||T.call(D,f,p),w(C=>{var I;return(I=C.onDragEnd)==null?void 0:I.call(C,f,p,R.status)})),requestAnimationFrame(()=>{R.dragTargetId=void 0,R.status="inactive",t.current&&delete t.current.dataset.dragging})},onPointerDown:h=>{l.clickedEl=h.target}},dragHandleRef:o}}let V;function At(e){V||(V=new Image,document.body.append(V),V.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),e.dataTransfer.setDragImage(V,0,0)}async function*Dt(e){const n=[];for(const t of e.items)if(t.kind==="file"){const r=t.webkitGetAsEntry();r&&n.push(r)}for(const t of n)if(t.isFile){if(t.name===".DS_Store")continue;const r=await Fe(t);yield new Ie(r,t.fullPath)}else t.isDirectory&&(yield*Me(t))}async function*Me(e){const n=e.createReader();let t;do{t=await new Promise((r,s)=>{n.readEntries(r,s)});for(const r of t)if(r.isFile){if(r.name===".DS_Store")continue;const s=await Fe(r);yield new Ie(s,r.fullPath)}else r.isDirectory&&(yield*Me(r))}while(t.length>0)}function Fe(e){return new Promise((n,t)=>e.file(n,t))}async function kt(e){const n=[];for await(const t of e)n.push(t);return n}const jt=400;function Et({id:e,disabled:n,ref:t,...r}){const s=m.useRef({dragOverElements:new Set,dropActivateTimer:void 0}).current,a=m.useRef(r);a.current=r,m.useLayoutEffect(()=>($.set(e,{...$.get(e),disabled:n,id:e,ref:t}),()=>{$.delete(e)}),[e,a,n,t]);const o=b=>{var v;const g=a.current,x=g.allowDragEventsFromItself||t.current!==((v=b.ref)==null?void 0:v.current);return!!(b!=null&&b.type&&x&&g.types.includes(b.type)&&(!g.acceptsDrop||g.acceptsDrop(b)))},i=b=>{var x,v;const g=Y(b);g&&((v=(x=a.current).onDragLeave)==null||v.call(x,g))};return{droppableProps:n?{}:{onDragOver:b=>{var x,v;b.preventDefault(),b.stopPropagation();const g=Y(b);g&&o(g)&&((v=(x=a.current).onDragOver)==null||v.call(x,g,b))},onDragEnter:b=>{var x,v;if(b.stopPropagation(),s.dragOverElements.add(b.target),s.dragOverElements.size>1)return;const g=Y(b);g&&o(g)&&((v=(x=a.current).onDragEnter)==null||v.call(x,g),clearTimeout(s.dropActivateTimer),typeof a.current.onDropActivate=="function"&&(s.dropActivateTimer=setTimeout(()=>{var h,f;g&&((f=(h=a.current).onDropActivate)==null||f.call(h,g))},jt)))},onDragLeave:b=>{b.stopPropagation(),s.dragOverElements.delete(b.target);for(const x of s.dragOverElements)b.currentTarget.contains(x)||s.dragOverElements.delete(x);if(s.dragOverElements.size>0)return;const g=Y(b);g&&o(g)&&(i(b),clearTimeout(s.dropActivateTimer))},onDrop:async b=>{var x,v,h,f;b.preventDefault(),b.stopPropagation(),s.dragOverElements.clear(),i(b),clearTimeout(s.dropActivateTimer);const g=Y(b);if(g)if((v=(x=a.current).onDragLeave)==null||v.call(x,g),!o(g))R.status!=="inactive"&&(R.status="dropFail");else{const p=(f=(h=a.current).onDrop)==null?void 0:f.call(h,g);R.status!=="inactive"&&(R.status=p===!1?"dropFail":"dropSuccess")}}}}}function Y(e){if(R.dragTargetId!=null)return F.get(R.dragTargetId);if(e.dataTransfer.types.includes("Files"))return{type:"nativeFile",el:null,ref:null,getData:()=>kt(Dt(e.dataTransfer))}}const Tt={onDragStart:()=>{},onDragEnter:()=>{},onDragOver:({e,ref:n,item:t,sortSession:r,onDropPositionChange:s})=>{var d;const a=r.dropPosition;let o=null;const i=(d=$.get(t))==null?void 0:d.rect;if(i){const l=i.top+i.height/2;e.clientY<=l?o="before":e.clientY>=l&&(o="after")}if(o!==a){const l=r.sortables.indexOf(t);if(r.dropPosition=o,s==null||s(r.dropPosition),ke(r),n.current)if(r.dropPosition==="after")le(n.current,"bottom",r);else if(l===0)le(n.current,"top",r);else{const b=r.sortables[l-1],g=$.get(b);g!=null&&g.ref.current&&le(g.ref.current,"bottom",r)}const c=r.sortables.indexOf(t);if(r.activeIndex===c){r.finalIndex=r.activeIndex;return}(l>r.activeIndex?"after":"before")==="after"?r.finalIndex=r.dropPosition==="before"?c-1:c:r.finalIndex=r.dropPosition==="after"?c+1:c}},onDragEnd:e=>{ke(e)}};function ke(e){e!=null&&e.linePreviewEl&&(e.linePreviewEl.style.borderBottomColor="",e.linePreviewEl.style.borderTopColor="",e.linePreviewEl=void 0)}function le(e,n,t){const r="rgb(var(--be-primary))";n==="top"?e.style.borderTopColor=r:e.style.borderBottomColor=r,t&&(t.linePreviewEl=e)}function He(e,n,t){const r=we(n,0,e.length-1),s=we(t,0,e.length-1);if(r===s)return e;const a=e[r],o=s<r?-1:1;for(let i=r;i!==s;i+=o)e[i]=e[i+o];return e[s]=a,e}function It(e,n,t){const r=e.slice();return r.splice(t<0?r.length+t:t,0,r.splice(n,1)[0]),r}const Ct="transform 0.2s cubic-bezier(0.2, 0, 0, 1)",Pt={onDragStart:e=>{e.sortables.forEach((n,t)=>{const r=$.get(n);r!=null&&r.ref.current&&(r.ref.current.style.transition=Ct,(e==null?void 0:e.activeIndex)===t&&(r.ref.current.style.opacity="0.4"))})},onDragEnter:(e,n,t)=>{He(e.sortables,t,n);const r=e.sortables.map(s=>{var a;return(a=$.get(s))==null?void 0:a.rect});e.sortables.forEach((s,a)=>{if(!e)return;const o=It(r,n,e.activeIndex),i=r[a],d=o[a],l=$.get(s);if(l!=null&&l.ref.current&&d&&i){const c=d.left-i.left,w=d.top-i.top;l.ref.current.style.transform=`translate3d(${c}px, ${w}px, 0)`}}),e.finalIndex=n},onDragOver:()=>{},onDragEnd:e=>{e.sortables.forEach(n=>{const t=$.get(n);t!=null&&t.ref.current&&(t.ref.current.style.transform="",t.ref.current.style.transition="",t.ref.current.style.opacity="",t.ref.current.style.zIndex="")})}},Nt={onDragStart:()=>{},onDragOver:()=>{},onDragEnter:(e,n,t)=>{var s;const r=(s=$.get(e.sortables[t]))==null?void 0:s.ref.current;r&&($t(r,t,n),He(e.sortables,t,n),e.finalIndex=n)},onDragEnd:()=>{}};function $t(e,n,t){const r=e.parentElement;if(t<0)r.prepend(e);else{n>-1&&n<=t&&t++;const s=r.children.item(t);s?s.before(e):r.append(e)}}let y=null;const ee={line:Tt,liveSort:Pt,moveNode:Nt};function kn({item:e,items:n,type:t,ref:r,onSortEnd:s,onSortStart:a,onDragEnd:o,preview:i,disabled:d,onDropPositionChange:l,strategy:c="liveSort"}){m.useEffect(()=>{y&&y.sortables.length!==n.length&&(y.sortables=[...n],y.activeIndex=n.indexOf(e))},[n,e]);const{draggableProps:w,dragHandleRef:b}=yt({id:e,ref:r,type:t,preview:i,disabled:d,onDragStart:()=>{var x;y={sortables:[...n],activeSortable:e,activeIndex:n.indexOf(e),finalIndex:n.indexOf(e),dropPosition:null,ref:r,scrollParent:r.current?Ye(r.current):void 0,scrollListener:()=>{Oe($)}},ee[c].onDragStart(y),a==null||a(),(x=y.scrollParent)==null||x.addEventListener("scroll",y.scrollListener)},onDragEnd:()=>{var x;y&&(y.dropPosition=null,l==null||l(y.dropPosition),y.activeIndex!==y.finalIndex&&(s==null||s(y.activeIndex,y.finalIndex)),(x=y.scrollParent)==null||x.removeEventListener("scroll",y.scrollListener),ee[c].onDragEnd(y),o==null||o(),y=null)},getData:()=>{}}),{droppableProps:g}=Et({id:e,ref:r,types:[t],disabled:d,allowDragEventsFromItself:!0,onDragOver:(x,v)=>{y&&ee[c].onDragOver({e:v,ref:r,item:e,sortSession:y,onDropPositionChange:l})},onDragEnter:()=>{if(!y)return;const x=y.sortables.indexOf(e),v=y.sortables.indexOf(y.activeSortable);ee[c].onDragEnter(y,x,v)},onDragLeave:()=>{y&&(y.dropPosition=null,l==null||l(y.dropPosition))}});return{sortableProps:{...Ce(w,g)},dragHandleRef:b}}const jn="album",Rt=z(u.jsx("path",{d:"m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"MusicNoteOutlined");function En({track:e,className:n,size:t,background:r="bg-fg-base/4"}){const{trans:s}=se(),a=Lt(e),o=k(n,t,r,"object-cover",a?"block":"flex items-center justify-center");return a?u.jsx("img",{className:o,draggable:!1,loading:"lazy",src:a,alt:s(Q("Image for :name",{values:{name:e.name}}))}):u.jsx("span",{className:k(o,"overflow-hidden"),children:u.jsx(Rt,{className:"max-w-[60%] text-divider",size:"text-9xl"})})}function Lt(e){var n;if(e.image)return e.image;if((n=e.album)!=null&&n.image)return e.album.image}const Ot=z(u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-12.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 5.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"AlbumOutlined");function Tn({album:e,className:n,size:t}){const{trans:r}=se(),s=e==null?void 0:e.image,a=k(n,t,"object-cover bg-fg-base/4",s?"block":"flex items-center justify-center");return s?u.jsx("img",{className:a,draggable:!1,loading:"lazy",src:s,alt:r(Q("Image for :name",{values:{name:e.name}}))}):u.jsx("span",{className:k(a,"overflow-hidden"),children:u.jsx(Ot,{className:"max-w-[60%] text-divider",size:"text-9xl"})})}function Mt({artist:e,className:n,...t}){const r=m.useMemo(()=>Ft(e),[e]);return u.jsx(fe,{...t,className:k("overflow-x-hidden overflow-ellipsis outline-none hover:underline focus-visible:underline",n),to:r,children:e.name})}function Ft(e,{absolute:n}={}){let t=`/artist/${e.id}/${te(e.name)}`;return n&&(t=`${U().settings.base_url}${t}`),t}function In({artists:e,className:n,target:t,linkClassName:r,onLinkClick:s}){return e!=null&&e.length?u.jsx("div",{className:k(n,"overflow-x-hidden overflow-ellipsis"),children:e.map((a,o)=>u.jsxs(m.Fragment,{children:[o>0&&", ",u.jsx(Mt,{artist:a,target:t,className:r,onClick:s})]},a.id))}):u.jsx("div",{className:n,children:u.jsx(W,{message:"Various artists"})})}function Cn({track:e,className:n,...t}){const r=m.useMemo(()=>Ht(e),[e]);return u.jsx(fe,{...t,className:k("overflow-x-hidden overflow-ellipsis hover:underline",n),to:r,children:e.name})}function Ht(e,{absolute:n}={}){let t=`/track/${e.id}/${te(e.name)}`;return n&&(t=`${U().settings.base_url}${t}`),t}function Pn({album:e,artist:n,className:t,target:r}){!n&&e.artists&&(n=e.artists[0]);const s=m.useMemo(()=>zt(e,{artist:n}),[n,e]);return u.jsx(fe,{target:r,className:k("overflow-x-hidden overflow-ellipsis outline-none hover:underline focus-visible:underline",t),to:s,children:e.name})}function zt(e,n={}){var o;const t=n.artist||((o=e.artists)==null?void 0:o[0]),r=te((t==null?void 0:t.name)||"Various Artists"),s=te(e.name);let a=`/album/${e.id}/${r}/${s}`;return n.absolute&&(a=`${U().settings.base_url}${a}`),a}const Vt=z(u.jsx("path",{d:"M390,32H120c-49.19,0-88,38.81-88,88V390c0,49.19,38.81,90,88,90H390c49.19,0,90-40.81,90-90V120C480,70.81,439.19,32,390,32ZM336,396H284c-42.51,0-72-23.68-72-76V240H176V192c42.51-11,57.95-48.32,60-80h44v72h52v56H280l-.39,70.51c0,21.87,11,29.43,28.62,29.43L336,340Z"})),Bt=z(u.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined");function St(e,n,t,r){const s=qt(e,n,t,r);e==="mail"?window.location.href=s:Kt(s)}function Kt(e){const r=(window.innerWidth-575)/2,s=(window.innerHeight-400)/2,a="status=1, scrollbars=1,width=575,height=400,top="+s+",left="+r;window.open(e,"share",a)}function qt(e,n,t,r){switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+n;case"twitter":return`https://twitter.com/intent/tweet?text=${t}&url=${n}`;case"pinterest":return"https://pinterest.com/pin/create/button/?url="+n+"&media="+r;case"tumblr":return"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&posttype=photo&title=&caption="+t+"&content="+r+"&url="+n;case"blogger":return"https://www.blogger.com/blog_this.pyra?t&u="+n+"&n="+t;case"mail":return`mailto:?subject=Check out this link.&body=${n}`}}function Nn({link:e,name:n,image:t,size:r="lg"}){const s=a=>{St(a,e,n,t)};return u.jsxs("div",{children:[u.jsx(G,{size:r,onClick:()=>s("facebook"),className:"text-facebook",children:u.jsx(Ge,{})}),u.jsx(G,{size:r,onClick:()=>s("twitter"),className:"text-twitter",children:u.jsx(We,{})}),u.jsx(G,{size:r,onClick:()=>s("tumblr"),className:"text-tumblr",children:u.jsx(Vt,{viewBox:"0 0 512 512"})}),navigator.share&&u.jsx(G,{size:r,onClick:()=>{try{navigator.share({title:n,url:e})}catch(a){a.name!=="AbortError"&&Pe(Q("Could not share link"))}},className:"text-muted",children:u.jsx(Bt,{})})]})}const $n=z(u.jsx("path",{d:"M8 19V5l11 7Z"}),"PlayArrowFilled"),Ut=z([u.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"},"0"),u.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"},"1")],"MicOutlined");function Rn({artist:e,className:n,wrapperClassName:t,size:r,showVerifiedBadge:s=!1}){const{trans:a}=se(),o=_t(e),i=k(r,n,"bg-fg-base/4 object-cover",o?"block":"flex items-center justify-center"),d=o?u.jsx("img",{className:i,draggable:!1,loading:"lazy",src:o,alt:a(Q("Image for :name",{values:{name:e.name}}))}):u.jsx("span",{className:k(i,"overflow-hidden"),children:u.jsx(Ut,{className:"max-w-[60%] text-divider",size:"text-9xl"})});return u.jsxs("div",{className:k("relative isolate flex-shrink-0",r,t),children:[d,s&&e.verified&&u.jsxs("div",{className:"absolute bottom-24 left-0 right-0 mx-auto flex w-max max-w-full items-center gap-6 rounded-full bg-black/60 px-8 py-4 text-sm text-white",color:"positive",children:[u.jsx("div",{className:"rounded-full bg-primary p-1",children:u.jsx(Xe,{className:"text-white",size:"sm"})}),u.jsx(W,{message:"Verified artist"})]})]})}function _t(e){var n,t;return e.image_small||((t=(n=e.albums)==null?void 0:n[0])==null?void 0:t.image)}function he(e){var n;return e.tracks=(n=e.tracks)==null?void 0:n.map(t=>(t.album||(t.album={...e,tracks:void 0}),t)),e}const Ln="artistPage-albumLayout";function On(e){const{artistId:n}=me();return ge({queryKey:["artists",n,e],queryFn:()=>Yt(n,e),initialData:()=>{var r,s;const t=(r=U().loaders)==null?void 0:r[e.loader];if(((s=t==null?void 0:t.artist)==null?void 0:s.id)==n&&(t==null?void 0:t.loader)===e.loader)return t}})}function Yt(e,n){return ae.get(`artists/${e}`,{params:n}).then(t=>(t.data.albums&&(t.data.albums.data=t.data.albums.data.map(r=>he(r))),t.data))}function Mn(e){const{albumId:n}=me();return ge({queryKey:["albums",+n],queryFn:()=>Gt(n,e),initialData:()=>{var r,s;const t=(r=U().loaders)==null?void 0:r[e.loader];if(((s=t==null?void 0:t.album)==null?void 0:s.id)==n&&(t==null?void 0:t.loader)===e.loader)return t}})}function Gt(e,n){return ae.get(`albums/${e}`,{params:n}).then(t=>(t.data.album=he(t.data.album),t.data))}function Fn(e){const{trackId:n}=me();return ge({queryKey:["tracks",+n,e],queryFn:()=>Wt(n,e),initialData:()=>{var r,s;const t=(r=U().loaders)==null?void 0:r[e.loader];if(((s=t==null?void 0:t.track)==null?void 0:s.id)==n&&(t==null?void 0:t.loader)===e.loader)return t}})}function Wt(e,n){return ae.get(`tracks/${e}`,{params:n}).then(t=>(t.data.track.album&&(t.data.track={...t.data.track,album:he(t.data.track.album)}),t.data))}function Hn(e){const{user:n,hasPermission:t}=X();return m.useMemo(()=>{const r={canEdit:!0,canDelete:!0,managesTrack:!0};return e.every(s=>{var i,d;if(!s){r.canEdit=!1,r.canDelete=!1,r.managesTrack=!1;return}const a=(i=s.artists)==null?void 0:i.map(l=>l.id),o=s.owner_id===(n==null?void 0:n.id)||!!((d=n==null?void 0:n.artists)!=null&&d.find(l=>a==null?void 0:a.includes(l.id)));o||(r.managesTrack=!1),!t("tracks.update")&&!t("music.update")&&!o&&(r.canEdit=!1),!t("tracks.delete")&&!t("music.delete")&&!o&&(r.canDelete=!1)}),r},[n,e,t])}function zn(e){const{user:n,hasPermission:t}=X();return m.useMemo(()=>{var s,a;const r={canEdit:!1,canDelete:!1,managesAlbum:!1};if(n!=null&&n.id&&e){const o=(s=e.artists)==null?void 0:s.map(d=>d.id),i=e.owner_id===n.id||!!((a=n.artists)!=null&&a.find(d=>o==null?void 0:o.includes(d.id)));r.canEdit=t("albums.update")||t("music.update")||i,r.canDelete=t("albums.delete")||t("music.delete")||i,r.managesAlbum=i}return r},[n,e,t])}function re(e){return Qe()?e.metaKey:e.ctrlKey}function Xt(e){const{cellCount:n,rowCount:t}=e;return{onKeyDown:s=>{switch(s.key){case"ArrowLeft":O(s,{cell:{op:"decrement"}},e);break;case"ArrowRight":O(s,{cell:{op:"increment"}},e);break;case"ArrowUp":O(s,{row:{op:"decrement"}},e);break;case"ArrowDown":O(s,{row:{op:"increment"}},e);break;case"PageUp":O(s,{row:{op:"decrement",count:5}},e);break;case"PageDown":O(s,{row:{op:"increment",count:5}},e);break;case"Tab":Qt(s);break;case"Home":re(s)?O(s,{row:{op:"decrement",count:t},cell:{op:"decrement",count:n}},e):O(s,{cell:{op:"decrement",count:n}},e);break;case"End":re(s)?O(s,{row:{op:"increment",count:t},cell:{op:"increment",count:n}},e):O(s,{cell:{op:"increment",count:n}},e);break}}}}function O(e,n,{cellCount:t,rowCount:r}){var x,v,h,f,p,D,T;if(((x=document.activeElement)==null?void 0:x.tagName)==="input")return;e.preventDefault();const s=e.currentTarget,a=e.target.closest("[aria-colindex]");if(!a||!s)return;const o=a.closest("[aria-rowindex]");if(!o)return;let i=parseInt(o.getAttribute("aria-rowindex")),d=parseInt(a.getAttribute("aria-colindex"));if(Number.isNaN(i)||Number.isNaN(d))return;const l=((v=n.row)==null?void 0:v.count)??1;((h=n.row)==null?void 0:h.op)==="increment"?i=Math.min(r,i+l):((f=n.row)==null?void 0:f.op)==="decrement"&&(i=Math.max(1,i-l));const c=((p=n.cell)==null?void 0:p.count)??1;((D=n.cell)==null?void 0:D.op)==="increment"?d=Math.min(t,d+c):((T=n.cell)==null?void 0:T.op)==="decrement"&&(d=Math.max(1,d-c));const w=s.querySelector(`[aria-rowindex="${i}"] [aria-colindex="${d}"]`);if(!w)return;const g=be(w).nextNode()||w;a.setAttribute("tabindex","-1"),g.setAttribute("tabindex","0"),g.focus()}function Qt(e){const n=e.currentTarget;if(e.shiftKey)n.focus();else{const t=be(n,{tabbable:!0});let r,s;do s=t.lastChild(),s&&(r=s);while(s);r&&!r.contains(document.activeElement)&&Je(r)}}const M=m.createContext(null);function ze({index:e,isHeader:n}){const{columns:t,cellHeight:r="h-46",headerCellHeight:s="h-46"}=m.useContext(M),a=t[e],o=a==null?void 0:a.padding;let i="justify-start";return(a==null?void 0:a.align)==="center"?i="justify-center":(a==null?void 0:a.align)==="end"&&(i="justify-end"),k("flex items-center overflow-hidden whitespace-nowrap overflow-ellipsis outline-none focus-visible:outline focus-visible:outline-offset-2",n?s:r,(a==null?void 0:a.width)??"flex-1",a==null?void 0:a.maxWidth,a==null?void 0:a.minWidth,i,o,a==null?void 0:a.className)}function Jt({rowIndex:e,rowIsHovered:n,index:t,item:r,id:s}){const{columns:a}=m.useContext(M),o=a[t],i=m.useMemo(()=>({index:e,isHovered:n,isPlaceholder:r.isPlaceholder}),[e,n,r.isPlaceholder]),d=ze({index:t,isHeader:!1});return u.jsx("div",{tabIndex:-1,role:"gridcell","aria-colindex":t+1,id:s,className:d,children:u.jsx("div",{className:"w-full min-w-0 overflow-hidden overflow-ellipsis",children:o.body(r,i)})})}function Zt(e){return e.shiftKey||re(e)}function en({index:e,isSelected:n,isHeader:t}){const r=Ze(),s=Ne(),{hideBorder:a,enableSelection:o,collapseOnMobile:i,onAction:d}=m.useContext(M);return k("flex gap-x-16 break-inside-avoid outline-none border border-transparent",d&&"cursor-pointer",s&&i&&a?"mb-8 pl-8 pr-0 rounded":"px-16",!a&&"border-b-divider",!a&&e===0&&"border-t-divider",n&&!r&&"bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus",n&&r&&"bg-selected hover:bg-focus focus-visible:bg-focus",!n&&!t&&(o||d)&&"focus-visible:bg-focus hover:bg-hover")}function tn({onMoveStart:e,onMove:n,onMoveEnd:t,minimumMovement:r=0,preventDefault:s,stopPropagation:a=!0,onPress:o,onLongPress:i,...d}){const c=m.useRef({lastPosition:{x:0,y:0},started:!1,longPressTriggered:!1}).current,{addGlobalListener:w,removeGlobalListener:b}=Te(),g=f=>{!c.el||(e==null?void 0:e(f,c.el))===!1||(c.originalTouchAction=c.el.style.touchAction,c.el.style.touchAction="none",c.originalUserSelect=document.documentElement.style.userSelect,document.documentElement.style.userSelect="none",c.started=!0)},x=f=>{var p;if(f.button===0&&c.id==null){if(c.started=!1,((p=d.onPointerDown)==null?void 0:p.call(d,f))===!1)return;a&&f.stopPropagation(),s&&f.preventDefault(),c.id=f.pointerId,c.el=f.currentTarget,c.lastPosition={x:f.clientX,y:f.clientY},i&&(c.longPressTimer=setTimeout(()=>{i(f,c.el),c.longPressTriggered=!0},400)),(e||n)&&w(window,"pointermove",v,!1),w(window,"pointerup",h,!1),w(window,"pointercancel",h,!1)}},v=f=>{if(f.pointerId===c.id){const p=f.clientX-c.lastPosition.x,D=f.clientY-c.lastPosition.y;(Math.abs(p)>=r||Math.abs(D)>=r)&&!c.started&&g(f),c.started&&(n==null||n(f,p,D),c.lastPosition={x:f.clientX,y:f.clientY})}},h=f=>{var p;if(f.pointerId===c.id){c.longPressTimer&&clearTimeout(c.longPressTimer);const D=c.longPressTriggered;c.longPressTriggered=!1,c.started&&(t==null||t(f)),c.el&&(f.type!=="pointercancel"&&((p=d.onPointerUp)==null||p.call(d,f,c.el),f.target&&c.el.contains(f.target)&&(D?i==null||i(f,c.el):o==null||o(f,c.el))),document.documentElement.style.userSelect=c.originalUserSelect||"",c.el.style.touchAction=c.originalTouchAction||""),c.id=void 0,c.started=!1,b(window,"pointermove",v,!1),b(window,"pointerup",h,!1),b(window,"pointercancel",h,!1)}};return{domProps:{onPointerDown:q(x)}}}const nn=["button","a","input","select","textarea"];function rn({item:e,index:n,renderAs:t,className:r,style:s}){const{selectedRows:a,columns:o,toggleRow:i,selectRow:d,onAction:l,selectRowOnContextMenu:c,enableSelection:w,selectionStyle:b,hideHeaderRow:g}=m.useContext(M),x=m.useRef(!1),v=a.includes(e.id),[h,f]=m.useState(!1),p=A=>A.target.closest(nn.join(",")),D=A=>{b==="highlight"&&l&&!x.current&&!p(A)&&(A.preventDefault(),A.stopPropagation(),l(e,n))},T=!!a.length,C=A=>{p(A)||(b==="checkbox"?w&&(T||!l)?i(e):l&&l(e,n):b==="highlight"&&(x.current?w&&T?i(e):l==null||l(e,n):w&&d(e,Zt(A))))},{domProps:I}=tn({onPointerDown:A=>{x.current=A.pointerType==="touch"},onPress:C,onLongPress:w?()=>{x.current&&i(e)}:void 0}),P=A=>{w&&A.key===" "?(A.preventDefault(),A.stopPropagation(),b==="checkbox"?i(e):d(e)):A.key==="Enter"&&!a.length&&l&&(A.preventDefault(),A.stopPropagation(),l(e,n))},L=A=>{c&&w&&(a.includes(e.id)||d(e)),x.current&&(A.preventDefault(),A.stopPropagation())},B=en({index:n,isSelected:v}),S=t||"div";return u.jsx(S,{role:"row","aria-rowindex":n+1+(g?0:1),"aria-selected":v,tabIndex:-1,className:k(r,B),item:S==="div"?void 0:e,onDoubleClick:q(D),onKeyDown:q(P),onContextMenu:q(L),onPointerEnter:q(()=>f(!0)),onPointerLeave:q(()=>f(!1)),style:s,...I,children:o.map((A,E)=>u.jsx(Jt,{rowIndex:n,rowIsHovered:h,index:E,item:e},`${e.id}-${A.key}`))})}const sn={key:"checkbox",header:()=>u.jsx(on,{}),align:"center",width:"w-24 flex-shrink-0",body:(e,n)=>n.isPlaceholder?u.jsx(et,{size:"w-24 h-24",variant:"rect"}):u.jsx(an,{item:e})};function an({item:e}){const{selectedRows:n,toggleRow:t}=m.useContext(M);return u.jsx($e,{checked:n.includes(e.id),onChange:()=>t(e)})}function on(){const{trans:e}=se(),{data:n,selectedRows:t,onSelectionChange:r}=m.useContext(M),s=!!n.length&&n.length===t.length,a=!s&&!!t.length;return u.jsx($e,{"aria-label":e({message:"Select all"}),isIndeterminate:a,checked:s,onChange:()=>{r(s?[]:n.map(o=>o.id))}})}const ln=z(u.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownwardOutlined");function cn({index:e}){const{columns:n,sortDescriptor:t,onSortChange:r,enableSorting:s}=m.useContext(M),a=n[e],o=ze({index:e,isHeader:!0}),[i,d]=m.useState(!1),l=a.sortingKey||a.key,c=a.allowsSorting&&s,{orderBy:w,orderDir:b}=t||{},g=c&&w===l;let x;g&&b==="asc"?x="ascending":g&&b==="desc"?x="descending":c&&(x="none");const v=()=>{if(!c)return;let p;g&&b==="desc"?p={orderDir:"asc",orderBy:l}:g&&b==="asc"?p={orderBy:void 0,orderDir:void 0}:p={orderDir:"desc",orderBy:l},r==null||r(p)},h=g||i,f={visible:{opacity:1,y:0},hidden:{opacity:0,y:"-25%"}};return u.jsxs("div",{role:"columnheader",tabIndex:-1,"aria-colindex":e+1,"aria-sort":x,className:k(o,"text-xs font-medium text-muted",c&&"cursor-pointer"),onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},onKeyDown:p=>{(p.key===" "||p.key==="Enter")&&(p.preventDefault(),v())},onClick:v,children:[a.hideHeader?u.jsx("div",{className:"opacity-0",children:a.header()}):a.header(),u.jsx(tt,{children:c&&u.jsx(nt.span,{variants:f,animate:h?"visible":"hidden",initial:!1,transition:{type:"tween"},className:"-mt-2 ml-6 inline-block","data-testid":"table-sort-button","aria-hidden":!h,children:u.jsx(ln,{size:"xs",className:k("text-muted",b==="asc"&&w===l&&"rotate-180 transition-transform")})},"sort-icon")})]})}function un(){const{columns:e}=m.useContext(M);return u.jsx("div",{role:"row","aria-rowindex":1,tabIndex:-1,className:"flex gap-x-16 px-16",children:e.map((n,t)=>u.jsx(cn,{index:t},n.key))})}function Vn({className:e,columns:n,collapseOnMobile:t=!0,hideHeaderRow:r=!1,hideBorder:s=!1,data:a,selectedRows:o,defaultSelectedRows:i,onSelectionChange:d,sortDescriptor:l,onSortChange:c,enableSorting:w=!0,onDelete:b,enableSelection:g=!0,selectionStyle:x="checkbox",ariaLabelledBy:v,selectRowOnContextMenu:h,onAction:f,renderRowAs:p,tableBody:D,meta:T,tableRef:C,closeOnInteractOutside:I=!1,cellHeight:P,headerCellHeight:L,...B}){const S=Ne(),A=!!S&&t;A&&(r=!0,s=!0);const[E,H]=ce(o,i||[],d),[Ve,Be]=ce(l,void 0,c),Se=m.useCallback(j=>{const N=[...E];if(!N.includes(j.id))N.push(j.id);else{const K=N.indexOf(j.id);N.splice(K,1)}H(N)},[E,H]),Ke=m.useCallback((j,N)=>{let K=[];j&&(K=N?[...E==null?void 0:E.filter(_=>_!==j.id),j.id]:[j.id]),H(K)},[E,H]),Z=m.useMemo(()=>{const j=n.filter(K=>{const _=K.visibleInMode||"regular";if(_==="all"||_==="compact"&&A||_==="regular"&&!A)return!0});return g&&x!=="highlight"&&!S&&j.unshift(sn),j},[S,n,g,x,A]),qe={isCollapsedMode:A,cellHeight:P,headerCellHeight:L,hideBorder:s,hideHeaderRow:r,selectedRows:E,onSelectionChange:H,enableSorting:w,enableSelection:g,selectionStyle:x,data:a,columns:Z,sortDescriptor:Ve,onSortChange:Be,toggleRow:Se,selectRow:Ke,onAction:f,selectRowOnContextMenu:h,meta:T,collapseOnMobile:t},Ue=Xt({cellCount:g?Z.length+1:Z.length,rowCount:a.length+1}),xe={renderRowAs:p};D?D=m.cloneElement(D,xe):D=u.jsx(dn,{...xe});const pe=rt(C);return st({ref:pe,onInteractOutside:j=>{I&&g&&(E!=null&&E.length)&&!j.target.closest('[role="dialog"]')&&H([])}}),u.jsx(M.Provider,{value:qe,children:u.jsxs("div",{...Ce(B,Ue,{onKeyDown:j=>{j.key==="Escape"?(j.preventDefault(),j.stopPropagation(),E!=null&&E.length&&H([])):j.key==="Delete"?(j.preventDefault(),j.stopPropagation(),E!=null&&E.length&&(b==null||b(a.filter(N=>E==null?void 0:E.includes(N.id))))):re(j)&&j.key==="a"&&(j.preventDefault(),j.stopPropagation(),g&&H(a.map(N=>N.id)))}}),role:"grid",tabIndex:0,"aria-rowcount":a.length+1,"aria-colcount":Z.length+1,ref:pe,"aria-multiselectable":g?!0:void 0,"aria-labelledby":v,className:k(e,"isolate select-none text-sm outline-none focus-visible:ring-2"),children:[!r&&u.jsx(un,{}),D]})})}function dn({renderRowAs:e}){const{data:n}=m.useContext(M);return u.jsx(m.Fragment,{children:n.map((t,r)=>u.jsx(rn,{item:t,index:r,renderAs:e},t.id))})}const fn=9007199254740991;function mn(e,n,t="desc"){return e.sort((r,s)=>{let a=je(r,n),o=je(s,n);const i=typeof a,d=typeof o;i!==d&&(i==="number"&&(a+=""),d==="number"&&(o+=""));let l=0;return a!=null&&o!=null?a>o?l=1:a<o&&(l=-1):a!=null?l=1:o!=null&&(l=-1),l*(t==="asc"?1:-1)})}function je(e,n){const t=at.pick(n,e);if(gn(t)){const r=Number(t);return r<fn?r:t}return t}function gn(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Bn(e){const[n,t]=m.useState({});return{data:m.useMemo(()=>{if(e){if(n!=null&&n.orderBy)return mn([...e],n.orderBy,n.orderDir)}else return[];return e},[n,e]),sortDescriptor:n,onSortChange:t}}function Sn(){const{pathname:e}=ot(),n=it(),{getRedirectUri:t}=X();return lt({mutationFn:r=>bn(r),onSuccess:(r,{albumId:s})=>{Pe(Q("Album deleted")),e.startsWith(`/album/${s}`)&&n(t()),oe.invalidateQueries({queryKey:["tracks"]}),oe.invalidateQueries({queryKey:["albums"]}),oe.invalidateQueries({queryKey:["artists"]})},onError:r=>ct(r)})}function bn({albumId:e}){return ae.delete(`albums/${e}`).then(n=>n.data)}const J=Ee.createContext(null);function hn(){const{tabsRef:e,selectedTab:n}=m.useContext(J),[t,r]=m.useState({width:void 0,transform:void 0,className:void 0});return Re(()=>{if(n!=null&&e.current){const s=e.current[n];if(!s)return;r(a=>({width:`${s.offsetWidth}px`,transform:`translateX(${s.offsetLeft}px)`,className:a.width===void 0?"":"transition-all"}))}},[r,n,e]),u.jsx("div",{className:k("absolute bottom-0 left-0 h-2 bg-primary",t.className),role:"presentation",style:{width:t.width,transform:t.transform}})}function Kn({children:e,center:n,expand:t,className:r,border:s="border-b"}){const a=m.Children.toArray(e);return u.jsx(ut,{children:u.jsxs("div",{className:k("max-sm:hidden-scrollbar md:compact-scrollbar relative flex max-w-full overflow-auto",s,r),role:"tablist","aria-orientation":"horizontal",children:[a.map((o,i)=>m.isValidElement(o)?m.cloneElement(o,{index:i,className:k(o.props.className,t&&"flex-auto",n&&i===0&&"ml-auto",n&&i===a.length-1&&"mr-auto")}):null),u.jsx(hn,{})]})})}function qn({index:e,className:n,isDisabled:t,children:r,padding:s,elementType:a="button",to:o,relative:i,width:d="min-w-min",height:l}){const{selectedTab:c,setSelectedTab:w,tabsRef:b,size:g="md",id:x}=m.useContext(J),v=e===c,h=dt(),f=s||(g==="sm"?"px-12":"px-18"),p=k("tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors","focus-visible:ring focus-visible:ring-2 ring-inset rounded whitespace-nowrap cursor-pointer",d,xn({isDisabled:t,isSelected:v}),n,g==="md"&&`${f} ${l||"h-48"}`,g==="sm"&&`${f} ${l||"h-32"}`,t&&"pointer-events-none"),D=I=>{switch(I.key){case"ArrowLeft":h==null||h.focusPrevious();break;case"ArrowRight":h==null||h.focusNext();break;case"Home":h==null||h.focusFirst();break;case"End":h==null||h.focusLast();break}},T=v?0:-1,C=a;return u.jsx(C,{disabled:t,id:`${x}-${e}-tab`,"aria-controls":`${x}-${e}-tabpanel`,type:"button",role:"tab","aria-selected":v,tabIndex:t?void 0:T,onKeyDown:D,onClick:()=>{w(e)},to:o,relative:i,className:p,ref:I=>{b.current&&I&&(b.current[e]=I)},children:r})}function xn({isDisabled:e,isSelected:n}){return e?"text-disabled cursor-default":n?"text-primary":"text-muted hover:text-main"}function Un({children:e,className:n}){const{selectedTab:t,isLazy:r}=m.useContext(J),s=m.Children.toArray(e).filter(o=>!!o);let a;if(r){const o=s[t];a=m.isValidElement(o)?m.cloneElement(s[t],{index:t}):null}else a=s.map((o,i)=>{if(m.isValidElement(o)){const d=i===t;return m.cloneElement(o,{index:i,"aria-hidden":!d,className:d?o.props.className:k(o.props.className,"hidden")})}return null});return u.jsx("div",{className:n,children:a})}function _n({className:e,children:n,index:t,...r}){const{id:s}=m.useContext(J),[a,o]=m.useState(0),i=m.useRef(null);return Re(()=>{if(i!=null&&i.current){const d=()=>{const c=be(i.current,{tabbable:!0});o(c.nextNode()?void 0:0)};d();const l=new MutationObserver(d);return l.observe(i.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{l.disconnect()}}},[i]),u.jsx("div",{tabIndex:a,ref:i,id:`${s}-${t}-tabpanel`,"aria-labelledby":`${s}-${t}-tab`,className:k(e,"focus-visible:outline-primary-light"),role:"tabpanel",...r,children:n})}function Yn(e){const{size:n="md",children:t,className:r,isLazy:s,overflow:a="overflow-hidden"}=e,o=m.useRef([]),i=m.useId(),[d,l]=ce(e.selectedTab,e.defaultSelectedTab||0,e.onTabChange),c=m.useMemo(()=>({selectedTab:d,setSelectedTab:l,tabsRef:o,size:n,isLazy:s,id:i}),[d,i,s,l,n]);return u.jsx(J.Provider,{value:c,children:u.jsx("div",{className:k(r,a,"max-w-full"),children:t})})}function Gn(){const{fields:e,append:n,remove:t}=ft({name:"links"});return u.jsxs("div",{children:[e.map((r,s)=>u.jsxs("div",{className:"mb-10 flex items-end gap-10",children:[u.jsx(ye,{required:!0,type:"url",label:u.jsx(W,{message:"URL"}),name:`links.${s}.url`,size:"sm",className:"flex-auto"}),u.jsx(ye,{required:!0,label:u.jsx(W,{message:"Short title"}),name:`links.${s}.title`,size:"sm",className:"flex-auto"}),u.jsx(G,{size:"sm",color:"primary",className:"flex-shrink-0",onClick:()=>{t(s)},children:u.jsx(mt,{})})]},r.id)),u.jsx(gt,{variant:"text",color:"primary",startIcon:u.jsx(pt,{}),size:"xs",onClick:()=>{n({url:"",title:""})},children:u.jsx(W,{message:"Add another link"})})]})}function Wn(e){const{user:n,hasPermission:t}=X();return m.useMemo(()=>{var s;const r={canEdit:!1,canDelete:!1};if(n!=null&&n.id){const a=!!((s=n.artists)!=null&&s.find(o=>o.id===e.id));r.canEdit=t("artists.update")||t("music.update")||a,r.canDelete=t("artists.delete")||t("music.delete")||a}return r},[n,e,t])}export{pt as A,Bt as B,he as C,Ot as D,Bn as E,Ln as F,An as G,On as H,Dn as I,kn as J,Mn as K,yn as L,Ut as M,_t as N,Fn as O,$n as P,Gn as Q,Rt as R,Nn as S,Yn as T,It as U,wn as V,ue as W,Et as X,tn as Y,ln as Z,Kn as a,qn as b,Un as c,_n as d,En as e,Tn as f,Lt as g,Rn as h,Zt as i,Ht as j,zt as k,Ft as l,Wn as m,Mt as n,zn as o,Pn as p,In as q,Sn as r,Hn as s,Cn as t,vn as u,jn as v,M as w,Vn as x,rn as y,ne as z};
//# sourceMappingURL=use-artist-permissions-2bfa1a86.js.map
