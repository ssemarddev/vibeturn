{"version":3,"file":"backstage-routes.lazy-0e7b7132.js","sources":["../../../resources/client/web-player/backstage/images/claim-label.jpg","../../../resources/client/web-player/backstage/images/claim-artist.jpg","../../../resources/client/web-player/backstage/backstage-type-selector.tsx","../../../resources/client/web-player/backstage/requests/use-create-backstage-request.ts","../../../resources/client/web-player/backstage/backstage-request-form/use-backstage-request-form.ts","../../../resources/client/web-player/backstage/backstage-request-form/backstage-role-select.tsx","../../../resources/client/web-player/backstage/backstage-request-form/backstage-form-attachments.tsx","../../../resources/client/web-player/backstage/backstage-request-form/backstage-request-form-page.tsx","../../../resources/client/web-player/backstage/backstage-request-submitted-page.tsx"],"sourcesContent":["export default \"__VITE_ASSET__dceebe86__\"","export default \"__VITE_ASSET__95695327__\"","import {Trans} from '@ui/i18n/trans';\nimport {useSettings} from '@ui/settings/use-settings';\nimport claimLabelImage from './images/claim-label.jpg';\nimport claimArtistImage from './images/claim-artist.jpg';\nimport {ReactNode} from 'react';\nimport {Link} from 'react-router';\nimport {usePrimaryArtistForCurrentUser} from '@app/web-player/backstage/use-primary-artist-for-current-user';\nimport clsx from 'clsx';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\n\nexport function BackstageTypeSelector() {\n  const {branding} = useSettings();\n  const isArtist = usePrimaryArtistForCurrentUser() != null;\n  return (\n    <BackstageLayout>\n      <div className=\"my:20 mx-auto max-w-780 md:my-40\">\n        <h1 className=\"mb-10 text-center text-3xl font-medium md:text-5xl\">\n          <Trans\n            message=\"Get access to :siteName for artists\"\n            values={{siteName: branding.site_name}}\n          />\n        </h1>\n        <h2 className=\"mb-54 text-center text-lg font-medium\">\n          <Trans message=\"First, select the type of your request\" />\n        </h2>\n        <div className=\"items-center gap-54 md:flex\">\n          <ClaimPanelLayout\n            className=\"mb-14 md:mb-0\"\n            title={\n              isArtist ? (\n                <Trans message=\"Get verified\" />\n              ) : (\n                <Trans message=\"Become an artist\" />\n              )\n            }\n            link={isArtist ? 'verify-artist' : 'become-artist'}\n            image={claimArtistImage}\n          />\n          <ClaimPanelLayout\n            title={<Trans message=\"Claim existing artist\" />}\n            link=\"claim-artist\"\n            image={claimLabelImage}\n          />\n        </div>\n      </div>\n    </BackstageLayout>\n  );\n}\n\ninterface ClaimPanelLayoutProps {\n  title: ReactNode;\n  link: string;\n  image: string;\n  className?: string;\n}\nfunction ClaimPanelLayout({\n  title,\n  image,\n  link,\n  className,\n}: ClaimPanelLayoutProps) {\n  return (\n    <Link\n      to={link}\n      className={clsx(\n        'block flex flex-auto cursor-pointer flex-col items-center justify-center rounded-md border border-2 bg-paper p-34 transition-shadow hover:bg-primary/4 hover:shadow-xl',\n        className,\n      )}\n    >\n      <h3 className=\"mb-10 text-lg font-medium\">{title}</h3>\n      <img\n        className=\"h-132 w-132 rounded-full object-cover\"\n        src={image}\n        alt=\"\"\n      />\n    </Link>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {BackstageRequest} from '@app/web-player/backstage/backstage-request';\n\nconst endpoint = 'backstage-request';\n\ninterface Response extends BackendResponse {\n  request: BackstageRequest;\n}\n\nexport interface CreateBackstageRequestPayload {\n  type: 'verify-artist' | 'become-artist' | 'claim-artist';\n  artist_id: number | 'CURRENT_USER';\n  artist_name: string;\n  first_name: string;\n  last_name: string;\n  image: string;\n  role: string;\n  company: string;\n  passportScan?: Omit<FileEntry, 'parent' | 'children'>;\n}\n\nexport function useCreateBackstageRequest(\n  form: UseFormReturn<CreateBackstageRequestPayload>,\n) {\n  return useMutation({\n    mutationFn: (payload: CreateBackstageRequestPayload) =>\n      createRequest(payload),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey(endpoint),\n      });\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createRequest(payload: CreateBackstageRequestPayload) {\n  return apiClient\n    .post<Response>(endpoint, {\n      artist_name: payload.artist_name,\n      artist_id: payload.artist_id,\n      type: payload.type,\n      data: {\n        first_name: payload.first_name,\n        last_name: payload.last_name,\n        image: payload.image,\n        role: payload.role,\n        company: payload.company,\n        passport_scan_id: payload.passportScan?.id,\n      },\n    })\n    .then(r => r.data);\n}\n","import {useAuth} from '@common/auth/use-auth';\nimport {usePrimaryArtistForCurrentUser} from '@app/web-player/backstage/use-primary-artist-for-current-user';\nimport {useForm} from 'react-hook-form';\nimport {CreateBackstageRequestPayload} from '@app/web-player/backstage/requests/use-create-backstage-request';\n\nexport function useBackstageRequestForm(\n  requestType: CreateBackstageRequestPayload['type'],\n) {\n  const {user} = useAuth();\n  const primaryArtist = usePrimaryArtistForCurrentUser();\n\n  let artistId: number | 'CURRENT_USER' | undefined;\n  if (requestType === 'verify-artist') {\n    artistId = primaryArtist?.id as number;\n  } else if (requestType === 'become-artist') {\n    artistId = 'CURRENT_USER';\n  }\n\n  return useForm<CreateBackstageRequestPayload>({\n    defaultValues: {\n      artist_id: artistId,\n      artist_name: user?.name,\n      first_name: user?.first_name,\n      last_name: user?.last_name,\n      image: primaryArtist?.image || user?.image,\n      type: requestType,\n      role: requestType === 'claim-artist' ? 'artist' : undefined,\n    },\n  });\n}\n","import {Trans} from '@ui/i18n/trans';\nimport {Item} from '@ui/forms/listbox/item';\nimport {FormSelect} from '@ui/forms/select/select';\nimport React from 'react';\n\nexport function BackstageRoleSelect() {\n  return (\n    <FormSelect\n      name=\"role\"\n      label={<Trans message=\"Role\" />}\n      selectionMode=\"single\"\n      className=\"mb-24\"\n    >\n      <Item value=\"artist\">\n        <Trans message=\"Artist\" />\n      </Item>\n      <Item value=\"agent\">\n        <Trans message=\"Agent\" />\n      </Item>\n      <Item value=\"composer\">\n        <Trans message=\"Composer\" />\n      </Item>\n      <Item value=\"label\">\n        <Trans message=\"Label\" />\n      </Item>\n      <Item value=\"manager\">\n        <Trans message=\"Manager\" />\n      </Item>\n      <Item value=\"musician\">\n        <Trans message=\"Musician\" />\n      </Item>\n      <Item value=\"producer\">\n        <Trans message=\"Producer\" />\n      </Item>\n      <Item value=\"publisher\">\n        <Trans message=\"Publisher\" />\n      </Item>\n      <Item value=\"songwriter\">\n        <Trans message=\"Songwriter\" />\n      </Item>\n    </FormSelect>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {CreateBackstageRequestPayload} from '@app/web-player/backstage/requests/use-create-backstage-request';\nimport {useSocialLogin} from '@common/auth/requests/use-social-login';\nimport {Trans} from '@ui/i18n/trans';\nimport {Button} from '@ui/buttons/button';\nimport {TwitterIcon} from '@ui/icons/social/twitter';\nimport {useUser} from '@common/auth/ui/use-user';\nimport {toast} from '@ui/toast/toast';\nimport {message} from '@ui/i18n/message';\nimport {FacebookIcon} from '@ui/icons/social/facebook';\nimport {DocumentScannerIcon} from '@ui/icons/material/DocumentScanner';\nimport {prettyBytes} from '@ui/utils/files/pretty-bytes';\nimport React, {cloneElement, ReactElement, ReactNode} from 'react';\nimport {SvgIconProps} from '@ui/icons/svg-icon';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {CloseIcon} from '@ui/icons/material/Close';\nimport {useActiveUpload} from '@common/uploads/uploader/use-active-upload';\nimport {queryClient} from '@common/http/query-client';\nimport {useSettings} from '@ui/settings/use-settings';\nimport {FileInputType} from '@ui/utils/files/file-input-config';\nimport {Disk} from '@common/uploads/uploader/backend-metadata';\n\nexport function BackstageFormAttachments() {\n  const {social} = useSettings();\n  const {watch, setValue} = useFormContext<CreateBackstageRequestPayload>();\n  const {connectSocial} = useSocialLogin();\n  const passportScan = watch('passportScan');\n\n  return (\n    <div className=\"py-20\">\n      <div className=\"mb-14 text-sm\">\n        <Trans message=\"Speed up the process by connecting artist social media accounts or uploading your passport scan.\" />\n      </div>\n      {social?.twitter?.enable && (\n        <Button\n          variant=\"outline\"\n          startIcon={<TwitterIcon className=\"text-twitter\" />}\n          className=\"mb-10 mr-10 md:mb-0\"\n          onClick={async () => {\n            const e = await connectSocial('twitter');\n            if (e?.status === 'SUCCESS') {\n              queryClient.invalidateQueries({queryKey: ['users']});\n              toast(message('Connected twitter account'));\n            }\n          }}\n        >\n          <Trans message=\"Connect to twitter\" />\n        </Button>\n      )}\n      {social?.facebook?.enable && (\n        <Button\n          variant=\"outline\"\n          startIcon={<FacebookIcon className=\"text-facebook\" />}\n          className=\"mb-10 mr-10 md:mb-0\"\n          onClick={async () => {\n            const e = await connectSocial('facebook');\n            if (e?.status === 'SUCCESS') {\n              queryClient.invalidateQueries({queryKey: ['users']});\n              toast(message('Connected facebook account'));\n            }\n          }}\n        >\n          <Trans message=\"Connect to facebook\" />\n        </Button>\n      )}\n      <PassportScanButton />\n      <div className=\"mt-20\">\n        {passportScan && (\n          <AttachmentLayout\n            icon={<DocumentScannerIcon />}\n            title={<Trans message=\"Passport scan\" />}\n            description={`${passportScan.name} (${prettyBytes(\n              passportScan.file_size,\n            )})`}\n            onRemove={() => {\n              setValue('passportScan', undefined);\n            }}\n          />\n        )}\n        <SocialServiceAttachment service=\"twitter\" />\n        <SocialServiceAttachment service=\"facebook\" />\n      </div>\n    </div>\n  );\n}\n\ninterface SocialServiceAttachmentProps {\n  service: 'twitter' | 'facebook';\n}\nfunction SocialServiceAttachment({service}: SocialServiceAttachmentProps) {\n  const {disconnectSocial} = useSocialLogin();\n  const {data} = useUser('me', {\n    with: ['social_profiles'],\n  });\n  const account = data?.user.social_profiles.find(\n    s => s.service_name === service,\n  );\n  if (!account) return null;\n\n  return (\n    <AttachmentLayout\n      icon={\n        service === 'twitter' ? (\n          <TwitterIcon className=\"text-twitter\" />\n        ) : (\n          <FacebookIcon className=\"text-facebook\" />\n        )\n      }\n      title={\n        <span className=\"capitalize\">\n          <Trans message=\":service account\" values={{service}} />\n        </span>\n      }\n      description={account.username}\n      isDisabled={disconnectSocial.isPending}\n      onRemove={() => {\n        disconnectSocial.mutate(\n          {service: 'twitter'},\n          {\n            onSuccess: () => {\n              queryClient.invalidateQueries({queryKey: ['users']});\n            },\n          },\n        );\n      }}\n    />\n  );\n}\n\ninterface AttachmentLayoutProps {\n  icon: ReactElement<SvgIconProps>;\n  title: ReactNode;\n  description: ReactNode;\n  onRemove: () => void;\n  isDisabled?: boolean;\n}\nfunction AttachmentLayout({\n  icon,\n  title,\n  description,\n  onRemove,\n  isDisabled,\n}: AttachmentLayoutProps) {\n  return (\n    <div className=\"mb-8 flex items-center gap-8 rounded border px-14 py-8\">\n      <div className=\"flex-shrink-0 text-muted\">\n        {cloneElement(icon, {size: 'lg'})}\n      </div>\n      <div>\n        <div className=\"text-xs text-muted\">{title}</div>\n        <div className=\"text-sm\">{description}</div>\n      </div>\n      <IconButton\n        className=\"ml-auto flex-shrink-0\"\n        onClick={() => onRemove()}\n        disabled={isDisabled}\n      >\n        <CloseIcon />\n      </IconButton>\n    </div>\n  );\n}\n\nconst FiveMB = 5 * 1024 * 1024;\nfunction PassportScanButton() {\n  const {setValue} = useFormContext<CreateBackstageRequestPayload>();\n  const {selectAndUploadFile} = useActiveUpload();\n\n  const handleUpload = () => {\n    selectAndUploadFile({\n      showToastOnRestrictionFail: true,\n      restrictions: {\n        allowedFileTypes: [FileInputType.image],\n        maxFileSize: FiveMB,\n      },\n      metadata: {\n        disk: Disk.uploads,\n      },\n      onSuccess: entry => {\n        setValue('passportScan', entry);\n      },\n    });\n  };\n\n  return (\n    <Button\n      variant=\"outline\"\n      startIcon={<DocumentScannerIcon className=\"text-primary\" />}\n      onClick={() => handleUpload()}\n    >\n      <Trans message=\"Upload passport scan\" />\n    </Button>\n  );\n}\n","import {Trans} from '@ui/i18n/trans';\nimport {Form} from '@ui/forms/form';\nimport {FormTextField} from '@ui/forms/input-field/text-field/text-field';\nimport {FormImageSelector} from '@common/uploads/components/image-selector';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport React from 'react';\nimport {Link, useLocation} from 'react-router';\nimport {Button} from '@ui/buttons/button';\nimport {\n  CreateBackstageRequestPayload,\n  useCreateBackstageRequest,\n} from '@app/web-player/backstage/requests/use-create-backstage-request';\nimport {useNavigate} from '@common/ui/navigation/use-navigate';\nimport {useBackstageRequestForm} from '@app/web-player/backstage/backstage-request-form/use-backstage-request-form';\nimport {BackstageRoleSelect} from '@app/web-player/backstage/backstage-request-form/backstage-role-select';\nimport {BackstageFormAttachments} from '@app/web-player/backstage/backstage-request-form/backstage-form-attachments';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\nimport {FormNormalizedModelField} from '@common/ui/normalized-model/normalized-model-field';\n\nexport function BackstageRequestFormPage() {\n  const {pathname} = useLocation();\n  const requestType = pathname\n    .split('/')\n    .pop() as CreateBackstageRequestPayload['type'];\n  return (\n    <BackstageLayout>\n      <div className=\"mx-auto my-40 max-w-780\">\n        <h1 className=\"text-center text-3xl font-medium md:text-5xl\">\n          <Trans message=\"Tell us about yourself\" />\n        </h1>\n        <ClaimForm requestType={requestType} />\n      </div>\n    </BackstageLayout>\n  );\n}\n\ninterface ClaimFormProps {\n  requestType: CreateBackstageRequestPayload['type'];\n}\nfunction ClaimForm({requestType}: ClaimFormProps) {\n  const navigate = useNavigate();\n  const form = useBackstageRequestForm(requestType);\n  const submitRequest = useCreateBackstageRequest(form);\n\n  return (\n    <FileUploadProvider>\n      <Form\n        form={form}\n        onSubmit={values => {\n          submitRequest.mutate(values, {\n            onSuccess: response => {\n              navigate(\n                `/backstage/requests/${response.request.id}/request-submitted`,\n                {replace: true},\n              );\n            },\n          });\n        }}\n      >\n        <FormImageSelector\n          name=\"image\"\n          diskPrefix=\"artist_media\"\n          variant=\"avatar\"\n          previewSize=\"w-160 h-160\"\n          className=\"mx-auto my-30 max-w-max\"\n          disabled={requestType === 'become-artist'}\n        />\n        {requestType !== 'become-artist' && (\n          <FormNormalizedModelField\n            className=\"mb-24\"\n            label={<Trans message=\"Select artist\" />}\n            name=\"artist_id\"\n            endpoint=\"search/suggestions/artist\"\n            queryParams={{\n              listAll: 'true',\n              excludeSelf: 'true',\n            }}\n            disabled={requestType === 'verify-artist'}\n          />\n        )}\n        {requestType === 'become-artist' && (\n          <FormTextField\n            required\n            name=\"artist_name\"\n            label={<Trans message=\"Your artist name\" />}\n            className=\"mb-24\"\n          />\n        )}\n        <div className=\"mb-24 items-center gap-24 md:flex\">\n          <FormTextField\n            required\n            name=\"first_name\"\n            label={<Trans message=\"First name\" />}\n            className=\"mb-24 flex-auto md:mb-0\"\n          />\n          <FormTextField\n            required\n            name=\"last_name\"\n            label={<Trans message=\"Last name\" />}\n            className=\"flex-auto\"\n          />\n        </div>\n        {requestType === 'claim-artist' && <BackstageRoleSelect />}\n        <FormTextField\n          name=\"company\"\n          label={<Trans message=\"Company (optional)\" />}\n          className=\"mb-24\"\n        />\n        <BackstageFormAttachments />\n        <div className=\"flex justify-between gap-24 border-t pt-34\">\n          <Button\n            variant=\"raised\"\n            color=\"white\"\n            elementType={Link}\n            to=\"..\"\n            relative=\"path\"\n            className=\"min-w-140\"\n            radius=\"rounded-full\"\n          >\n            <Trans message=\"Go back\" />\n          </Button>\n          <Button\n            variant=\"raised\"\n            color=\"primary\"\n            type=\"submit\"\n            className=\"min-w-140\"\n            radius=\"rounded-full\"\n            disabled={submitRequest.isPending}\n          >\n            <Trans message=\"Submit request\" />\n          </Button>\n        </div>\n      </Form>\n    </FileUploadProvider>\n  );\n}\n","import {CheckIcon} from '@ui/icons/material/Check';\nimport {Trans} from '@ui/i18n/trans';\nimport {Link} from 'react-router';\nimport {Button} from '@ui/buttons/button';\nimport {useBackstageRequest} from '@app/web-player/backstage/requests/use-backstage-request';\nimport {FullPageLoader} from '@ui/progress/full-page-loader';\nimport {BackstageLayout} from '@app/web-player/backstage/backstage-layout';\n\nexport function BackstageRequestSubmittedPage() {\n  const {isLoading} = useBackstageRequest();\n\n  return (\n    <BackstageLayout>\n      <div className=\"mx-auto my-40 max-w-[590px]\">\n        {isLoading ? <FullPageLoader className=\"my-40\" /> : <SuccessMessage />}\n      </div>\n    </BackstageLayout>\n  );\n}\n\nfunction SuccessMessage() {\n  return (\n    <div>\n      <div className=\"text-center\">\n        <CheckIcon size=\"text-6xl\" />\n      </div>\n\n      <h1 className=\"mb-48 mt-24 text-center text-5xl font-medium\">\n        <Trans message=\"We've got your request\" />\n      </h1>\n\n      <ul className=\"mb-60 list-inside list-disc px-20\">\n        <li className=\"pb-10\">\n          <Trans message=\"Our support team will review it and send you an email within 3 days!\" />\n        </li>\n        <li className=\"pb-10\">\n          <Trans message=\"Don't submit another request until you hear from us.\" />\n        </li>\n        <li>\n          <Trans message=\"If this artist profile is already claimed, ask an admin on your team to invite you.\" />\n        </li>\n      </ul>\n\n      <div className=\"text-center\">\n        <Button\n          variant=\"raised\"\n          color=\"primary\"\n          elementType={Link}\n          to=\"/\"\n          className=\"min-w-140\"\n          radius=\"rounded-full\"\n        >\n          <Trans message=\"Got It\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":["claimLabelImage","claimArtistImage","BackstageTypeSelector","branding","useSettings","isArtist","usePrimaryArtistForCurrentUser","jsx","BackstageLayout","jsxs","Trans","ClaimPanelLayout","title","image","link","className","Link","clsx","endpoint","useCreateBackstageRequest","form","useMutation","payload","createRequest","queryClient","DatatableDataQueryKey","err","onFormQueryError","apiClient","_a","r","useBackstageRequestForm","requestType","user","useAuth","primaryArtist","artistId","useForm","BackstageRoleSelect","FormSelect","Item","BackstageFormAttachments","social","watch","setValue","useFormContext","connectSocial","useSocialLogin","passportScan","Button","TwitterIcon","e","toast","message","_b","FacebookIcon","PassportScanButton","AttachmentLayout","DocumentScannerIcon","prettyBytes","SocialServiceAttachment","service","disconnectSocial","data","useUser","account","s","icon","description","onRemove","isDisabled","cloneElement","IconButton","CloseIcon","FiveMB","selectAndUploadFile","useActiveUpload","handleUpload","FileInputType","Disk","entry","BackstageRequestFormPage","pathname","useLocation","ClaimForm","navigate","useNavigate","submitRequest","FileUploadProvider","Form","values","response","FormImageSelector","FormNormalizedModelField","FormTextField","BackstageRequestSubmittedPage","isLoading","useBackstageRequest","FullPageLoader","SuccessMessage","CheckIcon"],"mappings":"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"}