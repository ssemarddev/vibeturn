import{u as v,j as e,T as t,L as x,h as B,i as I,q as d,o as P,k as q,l as R,m as U,n as A,I as c,p as N,t as k,B as m,v as y,w as h,x as p,y as S,z as L,A as E,r as z,C as D,D as M,E as T,G as Q,H as K,J as G,K as V,M as O,O as $,P as H,Q as u,S as J,V as W}from"./main-41809f72.js";import{u as w}from"./use-artist-permissions-2bfa1a86.js";import{B as j,D as Y,a as C,F as X,u as Z}from"./update-artist-page-ad1dc7e9.js";import{d as ke,c as ye,h as Se,f as we,e as Ce,i as Fe,j as _e,g as Be,b as Ie}from"./update-artist-page-ad1dc7e9.js";import"./theme-value-to-hex-3be344f1.js";import"./geo-chart-dd0fea1d.js";import"./Edit-c859bb2c.js";const ee=""+new URL("claim-label-9a476d72.jpg",import.meta.url).href,se=""+new URL("claim-artist-c781927a.jpg",import.meta.url).href;function pe(){const{branding:s}=v(),a=w()!=null;return e.jsx(j,{children:e.jsxs("div",{className:"my:20 mx-auto max-w-780 md:my-40",children:[e.jsx("h1",{className:"mb-10 text-center text-3xl font-medium md:text-5xl",children:e.jsx(t,{message:"Get access to :siteName for artists",values:{siteName:s.site_name}})}),e.jsx("h2",{className:"mb-54 text-center text-lg font-medium",children:e.jsx(t,{message:"First, select the type of your request"})}),e.jsxs("div",{className:"items-center gap-54 md:flex",children:[e.jsx(b,{className:"mb-14 md:mb-0",title:a?e.jsx(t,{message:"Get verified"}):e.jsx(t,{message:"Become an artist"}),link:a?"verify-artist":"become-artist",image:se}),e.jsx(b,{title:e.jsx(t,{message:"Claim existing artist"}),link:"claim-artist",image:ee})]})]})})}function b({title:s,image:a,link:i,className:r}){return e.jsxs(x,{to:i,className:B("block flex flex-auto cursor-pointer flex-col items-center justify-center rounded-md border border-2 bg-paper p-34 transition-shadow hover:bg-primary/4 hover:shadow-xl",r),children:[e.jsx("h3",{className:"mb-10 text-lg font-medium",children:s}),e.jsx("img",{className:"h-132 w-132 rounded-full object-cover",src:a,alt:""})]})}const F="backstage-request";function ae(s){return I({mutationFn:a=>te(a),onSuccess:()=>{d.invalidateQueries({queryKey:Y(F)})},onError:a=>P(a,s)})}function te(s){var a;return q.post(F,{artist_name:s.artist_name,artist_id:s.artist_id,type:s.type,data:{first_name:s.first_name,last_name:s.last_name,image:s.image,role:s.role,company:s.company,passport_scan_id:(a=s.passportScan)==null?void 0:a.id}}).then(i=>i.data)}function ie(s){const{user:a}=R(),i=w();let r;return s==="verify-artist"?r=i==null?void 0:i.id:s==="become-artist"&&(r="CURRENT_USER"),U({defaultValues:{artist_id:r,artist_name:a==null?void 0:a.name,first_name:a==null?void 0:a.first_name,last_name:a==null?void 0:a.last_name,image:(i==null?void 0:i.image)||(a==null?void 0:a.image),type:s,role:s==="claim-artist"?"artist":void 0}})}function re(){return e.jsxs(A,{name:"role",label:e.jsx(t,{message:"Role"}),selectionMode:"single",className:"mb-24",children:[e.jsx(c,{value:"artist",children:e.jsx(t,{message:"Artist"})}),e.jsx(c,{value:"agent",children:e.jsx(t,{message:"Agent"})}),e.jsx(c,{value:"composer",children:e.jsx(t,{message:"Composer"})}),e.jsx(c,{value:"label",children:e.jsx(t,{message:"Label"})}),e.jsx(c,{value:"manager",children:e.jsx(t,{message:"Manager"})}),e.jsx(c,{value:"musician",children:e.jsx(t,{message:"Musician"})}),e.jsx(c,{value:"producer",children:e.jsx(t,{message:"Producer"})}),e.jsx(c,{value:"publisher",children:e.jsx(t,{message:"Publisher"})}),e.jsx(c,{value:"songwriter",children:e.jsx(t,{message:"Songwriter"})})]})}function ne(){var o,g;const{social:s}=v(),{watch:a,setValue:i}=N(),{connectSocial:r}=k(),n=a("passportScan");return e.jsxs("div",{className:"py-20",children:[e.jsx("div",{className:"mb-14 text-sm",children:e.jsx(t,{message:"Speed up the process by connecting artist social media accounts or uploading your passport scan."})}),((o=s==null?void 0:s.twitter)==null?void 0:o.enable)&&e.jsx(m,{variant:"outline",startIcon:e.jsx(y,{className:"text-twitter"}),className:"mb-10 mr-10 md:mb-0",onClick:async()=>{const l=await r("twitter");(l==null?void 0:l.status)==="SUCCESS"&&(d.invalidateQueries({queryKey:["users"]}),h(p("Connected twitter account")))},children:e.jsx(t,{message:"Connect to twitter"})}),((g=s==null?void 0:s.facebook)==null?void 0:g.enable)&&e.jsx(m,{variant:"outline",startIcon:e.jsx(S,{className:"text-facebook"}),className:"mb-10 mr-10 md:mb-0",onClick:async()=>{const l=await r("facebook");(l==null?void 0:l.status)==="SUCCESS"&&(d.invalidateQueries({queryKey:["users"]}),h(p("Connected facebook account")))},children:e.jsx(t,{message:"Connect to facebook"})}),e.jsx(le,{}),e.jsxs("div",{className:"mt-20",children:[n&&e.jsx(_,{icon:e.jsx(C,{}),title:e.jsx(t,{message:"Passport scan"}),description:`${n.name} (${L(n.file_size)})`,onRemove:()=>{i("passportScan",void 0)}}),e.jsx(f,{service:"twitter"}),e.jsx(f,{service:"facebook"})]})]})}function f({service:s}){const{disconnectSocial:a}=k(),{data:i}=E("me",{with:["social_profiles"]}),r=i==null?void 0:i.user.social_profiles.find(n=>n.service_name===s);return r?e.jsx(_,{icon:s==="twitter"?e.jsx(y,{className:"text-twitter"}):e.jsx(S,{className:"text-facebook"}),title:e.jsx("span",{className:"capitalize",children:e.jsx(t,{message:":service account",values:{service:s}})}),description:r.username,isDisabled:a.isPending,onRemove:()=>{a.mutate({service:"twitter"},{onSuccess:()=>{d.invalidateQueries({queryKey:["users"]})}})}}):null}function _({icon:s,title:a,description:i,onRemove:r,isDisabled:n}){return e.jsxs("div",{className:"mb-8 flex items-center gap-8 rounded border px-14 py-8",children:[e.jsx("div",{className:"flex-shrink-0 text-muted",children:z.cloneElement(s,{size:"lg"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted",children:a}),e.jsx("div",{className:"text-sm",children:i})]}),e.jsx(D,{className:"ml-auto flex-shrink-0",onClick:()=>r(),disabled:n,children:e.jsx(M,{})})]})}const ce=5*1024*1024;function le(){const{setValue:s}=N(),{selectAndUploadFile:a}=T(),i=()=>{a({showToastOnRestrictionFail:!0,restrictions:{allowedFileTypes:[Q.image],maxFileSize:ce},metadata:{disk:K.uploads},onSuccess:r=>{s("passportScan",r)}})};return e.jsx(m,{variant:"outline",startIcon:e.jsx(C,{className:"text-primary"}),onClick:()=>i(),children:e.jsx(t,{message:"Upload passport scan"})})}function be(){const{pathname:s}=G(),a=s.split("/").pop();return e.jsx(j,{children:e.jsxs("div",{className:"mx-auto my-40 max-w-780",children:[e.jsx("h1",{className:"text-center text-3xl font-medium md:text-5xl",children:e.jsx(t,{message:"Tell us about yourself"})}),e.jsx(me,{requestType:a})]})})}function me({requestType:s}){const a=V(),i=ie(s),r=ae(i);return e.jsx(O,{children:e.jsxs($,{form:i,onSubmit:n=>{r.mutate(n,{onSuccess:o=>{a(`/backstage/requests/${o.request.id}/request-submitted`,{replace:!0})}})},children:[e.jsx(H,{name:"image",diskPrefix:"artist_media",variant:"avatar",previewSize:"w-160 h-160",className:"mx-auto my-30 max-w-max",disabled:s==="become-artist"}),s!=="become-artist"&&e.jsx(X,{className:"mb-24",label:e.jsx(t,{message:"Select artist"}),name:"artist_id",endpoint:"search/suggestions/artist",queryParams:{listAll:"true",excludeSelf:"true"},disabled:s==="verify-artist"}),s==="become-artist"&&e.jsx(u,{required:!0,name:"artist_name",label:e.jsx(t,{message:"Your artist name"}),className:"mb-24"}),e.jsxs("div",{className:"mb-24 items-center gap-24 md:flex",children:[e.jsx(u,{required:!0,name:"first_name",label:e.jsx(t,{message:"First name"}),className:"mb-24 flex-auto md:mb-0"}),e.jsx(u,{required:!0,name:"last_name",label:e.jsx(t,{message:"Last name"}),className:"flex-auto"})]}),s==="claim-artist"&&e.jsx(re,{}),e.jsx(u,{name:"company",label:e.jsx(t,{message:"Company (optional)"}),className:"mb-24"}),e.jsx(ne,{}),e.jsxs("div",{className:"flex justify-between gap-24 border-t pt-34",children:[e.jsx(m,{variant:"raised",color:"white",elementType:x,to:"..",relative:"path",className:"min-w-140",radius:"rounded-full",children:e.jsx(t,{message:"Go back"})}),e.jsx(m,{variant:"raised",color:"primary",type:"submit",className:"min-w-140",radius:"rounded-full",disabled:r.isPending,children:e.jsx(t,{message:"Submit request"})})]})]})})}function fe(){const{isLoading:s}=Z();return e.jsx(j,{children:e.jsx("div",{className:"mx-auto my-40 max-w-[590px]",children:s?e.jsx(J,{className:"my-40"}):e.jsx(oe,{})})})}function oe(){return e.jsxs("div",{children:[e.jsx("div",{className:"text-center",children:e.jsx(W,{size:"text-6xl"})}),e.jsx("h1",{className:"mb-48 mt-24 text-center text-5xl font-medium",children:e.jsx(t,{message:"We've got your request"})}),e.jsxs("ul",{className:"mb-60 list-inside list-disc px-20",children:[e.jsx("li",{className:"pb-10",children:e.jsx(t,{message:"Our support team will review it and send you an email within 3 days!"})}),e.jsx("li",{className:"pb-10",children:e.jsx(t,{message:"Don't submit another request until you hear from us."})}),e.jsx("li",{children:e.jsx(t,{message:"If this artist profile is already claimed, ask an admin on your team to invite you."})})]}),e.jsx("div",{className:"text-center",children:e.jsx(m,{variant:"raised",color:"primary",elementType:x,to:"/",className:"min-w-140",radius:"rounded-full",children:e.jsx(t,{message:"Got It"})})})]})}export{ke as BackstageAlbumInsights,ye as BackstageArtistInsights,Se as BackstageCreateAlbumPage,we as BackstageCreateTrackPage,be as BackstageRequestFormPage,fe as BackstageRequestSubmittedPage,Ce as BackstageTrackInsights,pe as BackstageTypeSelector,Fe as BackstageUpdateAlbumPage,_e as BackstageUpdateArtistPage,Be as BackstageUpdateTrackPage,Ie as BackstageUploadPage};
//# sourceMappingURL=backstage-routes.lazy-0e7b7132.js.map
